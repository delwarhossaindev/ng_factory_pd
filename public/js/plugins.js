!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,s){return void 0===s&&(s="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(s),s}:t(jQuery)}((function(t){var e,s,i,n,a,r,o,l,h,d,c,u,p,f,g=((b=t&&t.fn&&t.fn.select2&&t.fn.select2.amd?t.fn.select2.amd:b)&&b.requirejs||(b?s=b:b={},l={},h={},d={},c={},u=Object.prototype.hasOwnProperty,p=[].slice,f=/\.js$/,r=function(t,e){var s,i,n=w(t),a=n[0];e=e[1];return t=n[1],a&&(s=_(a=v(a,e))),a?t=s&&s.normalize?s.normalize(t,(i=e,function(t){return v(t,i)})):v(t,e):(a=(n=w(t=v(t,e)))[0],t=n[1],a&&(s=_(a))),{f:a?a+"!"+t:t,n:t,pr:a,p:s}},o={require:function(t){return y(t)},exports:function(t){var e=l[t];return void 0!==e?e:l[t]={}},module:function(t){var e;return{id:t,uri:"",exports:l[t],config:(e=t,function(){return d&&d.config&&d.config[e]||{}})}}},n=function(t,e,s,n){var a,d,u,p,f,g=[],v=typeof s,w=D(n=n||t);if("undefined"==v||"function"==v){for(e=!e.length&&s.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if("require"===(d=(u=r(e[p],w)).f))g[p]=o.require(t);else if("exports"===d)g[p]=o.exports(t),f=!0;else if("module"===d)a=g[p]=o.module(t);else if(m(l,d)||m(h,d)||m(c,d))g[p]=_(d);else{if(!u.p)throw Error(t+" missing "+d);u.p.load(u.n,y(n,!0),function(t){return function(e){l[t]=e}}(d),{}),g[p]=l[d]}v=s?s.apply(l[t],g):void 0,t&&(a&&a.exports!==i&&a.exports!==l[t]?l[t]=a.exports:v===i&&f||(l[t]=v))}else t&&(l[t]=s)},e=s=a=function(t,e,s,l,h){if("string"==typeof t)return o[t]?o[t](e):_(r(t,D(e)).f);if(!t.splice){if((d=t).deps&&a(d.deps,d.callback),!e)return;e.splice?(t=e,e=s,s=null):t=i}return e=e||function(){},"function"==typeof s&&(s=l,l=h),l?n(i,t,e,s):setTimeout((function(){n(i,t,e,s)}),4),a},a.config=function(t){return a(t)},e._defined=l,(g=function(t,e,s){if("string"!=typeof t)throw Error("See almond README: incorrect module build, no module name");e.splice||(s=e,e=[]),m(l,t)||m(h,t)||(h[t]=[t,e,s])}).amd={jQuery:!0},b.requirejs=e,b.require=s,b.define=g),b.define("almond",(function(){})),b.define("jquery",[],(function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e})),b.define("select2/utils",["jquery"],(function(t){var e={};function s(t){var e,s=t.prototype,i=[];for(e in s)"function"==typeof s[e]&&"constructor"!==e&&i.push(e);return i}function i(){this.listeners={}}e.Extend=function(t,e){var s,i={}.hasOwnProperty;function n(){this.constructor=t}for(s in e)i.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},e.Decorate=function(t,e){var i=s(e),n=s(t);function a(){var s=Array.prototype.unshift,i=e.prototype.constructor.length,n=t.prototype.constructor;0<i&&(s.call(arguments,t.prototype.constructor),n=e.prototype.constructor),n.apply(this,arguments)}e.displayName=t.displayName,a.prototype=new function(){this.constructor=a};for(var r=0;r<n.length;r++){var o=n[r];a.prototype[o]=t.prototype[o]}for(var l=0;l<i.length;l++){var h=i[l];a.prototype[h]=function(t){var s=function(){};t in a.prototype&&(s=a.prototype[t]);var i=e.prototype[t];return function(){return Array.prototype.unshift.call(arguments,s),i.apply(this,arguments)}}(h)}return a},i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,s=e.call(arguments,1);this.listeners=this.listeners||{},0===(s=null==s?[]:s).length&&s.push({}),(s[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var s=0,i=t.length;s<i;s++)t[s].apply(this,e)},e.Observable=i,e.generateChars=function(t){for(var e="",s=0;s<t;s++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var s=e.split("-"),i=t;if(1!==s.length){for(var n=0;n<s.length;n++){var a=s[n];(a=a.substring(0,1).toLowerCase()+a.substring(1))in i||(i[a]={}),n==s.length-1&&(i[a]=t[e]),i=i[a]}delete t[e]}}return t},e.hasScroll=function(e,s){var i=t(s),n=s.style.overflowX,a=s.style.overflowY;return(n!==a||"hidden"!==a&&"visible"!==a)&&("scroll"===n||"scroll"===a||i.innerHeight()<s.scrollHeight||i.innerWidth()<s.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))},e.__cache={};var n=0;return e.GetUniqueElementId=function(t){var s=t.getAttribute("data-select2-id");return null!=s||(s=t.id?"select2-data-"+t.id:"select2-data-"+(++n).toString()+"-"+e.generateChars(4),t.setAttribute("data-select2-id",s)),s},e.StoreData=function(t,s,i){t=e.GetUniqueElementId(t),e.__cache[t]||(e.__cache[t]={}),e.__cache[t][s]=i},e.GetData=function(s,i){var n=e.GetUniqueElementId(s);return i?e.__cache[n]&&null!=e.__cache[n][i]?e.__cache[n][i]:t(s).data(i):e.__cache[n]},e.RemoveData=function(t){var s=e.GetUniqueElementId(t);null!=e.__cache[s]&&delete e.__cache[s],t.removeAttribute("data-select2-id")},e.copyNonInternalCssClasses=function(t,e){var s=(s=t.getAttribute("class").trim().split(/\s+/)).filter((function(t){return 0===t.indexOf("select2-")}));e=(e=e.getAttribute("class").trim().split(/\s+/)).filter((function(t){return 0!==t.indexOf("select2-")})),e=s.concat(e);t.setAttribute("class",e.join(" "))},e})),b.define("select2/results",["jquery","./utils"],(function(t,e){function s(t,e,i){this.$element=t,this.data=i,this.options=e,s.__super__.constructor.call(this)}return e.Extend(s,e.Observable),s.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},s.prototype.clear=function(){this.$results.empty()},s.prototype.displayMessage=function(e){var s=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),n=this.options.get("translations").get(e.message);i.append(s(n(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},s.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},s.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var s=0;s<t.results.length;s++){var i=t.results[s];i=this.option(i);e.push(i)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},s.prototype.position=function(t,e){e.find(".select2-results").append(t)},s.prototype.sort=function(t){return this.options.get("sorter")(t)},s.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option--selectable"),e=t.filter(".select2-results__option--selected");(0<e.length?e:t).first().trigger("mouseenter"),this.ensureHighlightVisible()},s.prototype.setClasses=function(){var s=this;this.data.current((function(i){var n=i.map((function(t){return t.id.toString()}));s.$results.find(".select2-results__option--selectable").each((function(){var s=t(this),i=e.GetData(this,"data"),a=""+i.id;null!=i.element&&i.element.selected||null==i.element&&-1<n.indexOf(a)?(this.classList.add("select2-results__option--selected"),s.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),s.attr("aria-selected","false"))}))}))},s.prototype.showLoading=function(t){this.hideLoading(),t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},(t=this.option(t)).className+=" loading-results",this.$results.prepend(t)},s.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},s.prototype.option=function(s){var i=document.createElement("li");i.classList.add("select2-results__option"),i.classList.add("select2-results__option--selectable");var n,a={role:"option"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(n in(null!=s.element&&r.call(s.element,":disabled")||null==s.element&&s.disabled)&&(a["aria-disabled"]="true",i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--disabled")),null==s.id&&i.classList.remove("select2-results__option--selectable"),null!=s._resultId&&(i.id=s._resultId),s.title&&(i.title=s.title),s.children&&(a.role="group",a["aria-label"]=s.text,i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--group")),a){var o=a[n];i.setAttribute(n,o)}if(s.children){var l=t(i),h=document.createElement("strong");h.className="select2-results__group",this.template(s,h);for(var d=[],c=0;c<s.children.length;c++){var u=s.children[c];u=this.option(u);d.push(u)}(r=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"})).append(d),l.append(h),l.append(r)}else this.template(s,i);return e.StoreData(i,"data",s),i},s.prototype.bind=function(s,i){var n=this,a=s.id+"-results";this.$results.attr("id",a),s.on("results:all",(function(t){n.clear(),n.append(t.data),s.isOpen()&&(n.setClasses(),n.highlightFirstItem())})),s.on("results:append",(function(t){n.append(t.data),s.isOpen()&&n.setClasses()})),s.on("query",(function(t){n.hideMessages(),n.showLoading(t)})),s.on("select",(function(){s.isOpen()&&(n.setClasses(),n.options.get("scrollAfterSelect")&&n.highlightFirstItem())})),s.on("unselect",(function(){s.isOpen()&&(n.setClasses(),n.options.get("scrollAfterSelect")&&n.highlightFirstItem())})),s.on("open",(function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()})),s.on("close",(function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")})),s.on("results:toggle",(function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")})),s.on("results:select",(function(){var t,s=n.getHighlightedResults();0!==s.length&&(t=e.GetData(s[0],"data"),s.hasClass("select2-results__option--selected")?n.trigger("close",{}):n.trigger("select",{data:t}))})),s.on("results:previous",(function(){var t,e=n.getHighlightedResults(),s=n.$results.find(".select2-results__option--selectable"),i=s.index(e);i<=0||(t=i-1,0===e.length&&(t=0),(i=s.eq(t)).trigger("mouseenter"),e=n.$results.offset().top,s=i.offset().top,i=n.$results.scrollTop()+(s-e),0===t?n.$results.scrollTop(0):s-e<0&&n.$results.scrollTop(i))})),s.on("results:next",(function(){var t,e=n.getHighlightedResults(),s=n.$results.find(".select2-results__option--selectable"),i=s.index(e)+1;i>=s.length||((t=s.eq(i)).trigger("mouseenter"),e=n.$results.offset().top+n.$results.outerHeight(!1),s=t.offset().top+t.outerHeight(!1),t=n.$results.scrollTop()+s-e,0===i?n.$results.scrollTop(0):e<s&&n.$results.scrollTop(t))})),s.on("results:focus",(function(t){t.element[0].classList.add("select2-results__option--highlighted"),t.element[0].setAttribute("aria-selected","true")})),s.on("results:message",(function(t){n.displayMessage(t)})),t.fn.mousewheel&&this.$results.on("mousewheel",(function(t){var e=n.$results.scrollTop(),s=n.$results.get(0).scrollHeight-e+t.deltaY;e=0<t.deltaY&&e-t.deltaY<=0,s=t.deltaY<0&&s<=n.$results.height();e?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):s&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())})),this.$results.on("mouseup",".select2-results__option--selectable",(function(s){var i=t(this),a=e.GetData(this,"data");i.hasClass("select2-results__option--selected")?n.options.get("multiple")?n.trigger("unselect",{originalEvent:s,data:a}):n.trigger("close",{}):n.trigger("select",{originalEvent:s,data:a})})),this.$results.on("mouseenter",".select2-results__option--selectable",(function(s){var i=e.GetData(this,"data");n.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),n.trigger("results:focus",{data:i,element:t(this)})}))},s.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},s.prototype.destroy=function(){this.$results.remove()},s.prototype.ensureHighlightVisible=function(){var t,e,s,i,n=this.getHighlightedResults();0!==n.length&&(t=this.$results.find(".select2-results__option--selectable").index(n),i=this.$results.offset().top,e=n.offset().top,s=this.$results.scrollTop()+(e-i),i=e-i,s-=2*n.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(s))},s.prototype.template=function(e,s){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup");null==(e=i(e,s))?s.style.display="none":"string"==typeof e?s.innerHTML=n(e):t(s).append(e)},s})),b.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),b.define("select2/selection/base",["jquery","../utils","../keys"],(function(t,e,s){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var s=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),s.attr("title",this.$element.attr("title")),s.attr("tabindex",this._tabindex),s.attr("aria-disabled","false"),this.$selection=s},i.prototype.bind=function(t,e){var i=this,n=t.id+"-results";this.container=t,this.$selection.on("focus",(function(t){i.trigger("focus",t)})),this.$selection.on("blur",(function(t){i._handleBlur(t)})),this.$selection.on("keydown",(function(t){i.trigger("keypress",t),t.which===s.SPACE&&t.preventDefault()})),t.on("results:focus",(function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)})),t.on("selection:update",(function(t){i.update(t.data)})),t.on("open",(function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",n),i._attachCloseHandler(t)})),t.on("close",(function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(t)})),t.on("enable",(function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")})),t.on("disable",(function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")}))},i.prototype._handleBlur=function(e){var s=this;window.setTimeout((function(){document.activeElement==s.$selection[0]||t.contains(s.$selection[0],document.activeElement)||s.trigger("blur",e)}),1)},i.prototype._attachCloseHandler=function(s){t(document.body).on("mousedown.select2."+s.id,(function(s){var i=t(s.target).closest(".select2");t(".select2.select2-container--open").each((function(){this!=i[0]&&e.GetData(this,"element").select2("close")}))}))},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i})),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(t,e,s,i){function n(){n.__super__.constructor.apply(this,arguments)}return s.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t[0].classList.add("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t,e){var s=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.attr("aria-controls",i),this.$selection.on("mousedown",(function(t){1===t.which&&s.trigger("toggle",{originalEvent:t})})),this.$selection.on("focus",(function(t){})),this.$selection.on("blur",(function(t){})),t.on("focus",(function(e){t.isOpen()||s.$selection.trigger("focus")}))},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var s=this.options.get("templateSelection");return this.options.get("escapeMarkup")(s(t,e))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){var e,s;0!==t.length?(s=t[0],e=this.$selection.find(".select2-selection__rendered"),t=this.display(s,e),e.empty().append(t),(s=s.title||s.text)?e.attr("title",s):e.removeAttr("title")):this.clear()},n})),b.define("select2/selection/multiple",["jquery","./base","../utils"],(function(t,e,s){function i(t,e){i.__super__.constructor.apply(this,arguments)}return s.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t[0].classList.add("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var a=this;i.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r),this.$selection.on("click",(function(t){a.trigger("toggle",{originalEvent:t})})),this.$selection.on("click",".select2-selection__choice__remove",(function(e){var i;a.isDisabled()||(i=t(this).parent(),i=s.GetData(i[0],"data"),a.trigger("unselect",{originalEvent:e,data:i}))})),this.$selection.on("keydown",".select2-selection__choice__remove",(function(t){a.isDisabled()||t.stopPropagation()}))},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var s=this.options.get("templateSelection");return this.options.get("escapeMarkup")(s(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",n=0;n<t.length;n++){var a=t[n],r=this.selectionContainer(),o=this.display(a,r),l=i+s.generateChars(4)+"-";a.id?l+=a.id:l+=s.generateChars(4),r.find(".select2-selection__choice__display").append(o).attr("id",l);var h=a.title||a.text;h&&r.attr("title",h),o=this.options.get("translations").get("removeItem"),(h=r.find(".select2-selection__choice__remove")).attr("title",o()),h.attr("aria-label",o()),h.attr("aria-describedby",l),s.StoreData(r[0],"data",a),e.push(r)}this.$selection.find(".select2-selection__rendered").append(e)}},i})),b.define("select2/selection/placeholder",[],(function(){function t(t,e,s){this.placeholder=this.normalizePlaceholder(s.get("placeholder")),t.call(this,e,s)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e?{id:"",text:e}:e},t.prototype.createPlaceholder=function(t,e){var s=this.selectionContainer();return s.html(this.display(e)),s[0].classList.add("select2-selection__placeholder"),s[0].classList.remove("select2-selection__choice"),e=e.title||e.text||s.text(),this.$selection.find(".select2-selection__rendered").attr("title",e),s},t.prototype.update=function(t,e){var s=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||s)return t.call(this,e);this.clear(),e=this.createPlaceholder(this.placeholder),this.$selection.find(".select2-selection__rendered").append(e)},t})),b.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(t,e,s){function i(){}return i.prototype.bind=function(t,e,s){var i=this;t.call(this,e,s),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(t){i._handleClear(t)})),e.on("keypress",(function(t){i._handleKeyboardClear(t,e)}))},i.prototype._handleClear=function(t,e){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();var n=s.GetData(i[0],"data"),a=this.$element.val();this.$element.val(this.placeholder.id);var r={data:n};if(this.trigger("clear",r),r.prevented)this.$element.val(a);else{for(var o=0;o<n.length;o++)if(r={data:n[o]},this.trigger("unselect",r),r.prevented)return void this.$element.val(a);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(t,s,i){i.isOpen()||s.which!=e.DELETE&&s.which!=e.BACKSPACE||this._handleClear(s)},i.prototype.update=function(e,i){var n,a;e.call(this,i),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),0<this.$selection.find(".select2-selection__placeholder").length||0===i.length||(n=this.$selection.find(".select2-selection__rendered").attr("id"),a=this.options.get("translations").get("removeAllItems"),(e=t('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",a()),e.attr("aria-label",a()),e.attr("aria-describedby",n),s.StoreData(e[0],"data",i),this.$selection.prepend(e),this.$selection[0].classList.add("select2-selection--clearable"))},i})),b.define("select2/selection/search",["jquery","../utils","../keys"],(function(t,e,s){function i(t,e,s){t.call(this,e,s)}return i.prototype.render=function(e){var s=this.options.get("translations").get("search"),i=t('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');return this.$searchContainer=i,this.$search=i.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",s()),e=e.call(this),this._transferTabIndex(),e.append(this.$searchContainer),e},i.prototype.bind=function(t,i,n){var a=this,r=i.id+"-results",o=i.id+"-container";t.call(this,i,n),a.$search.attr("aria-describedby",o),i.on("open",(function(){a.$search.attr("aria-controls",r),a.$search.trigger("focus")})),i.on("close",(function(){a.$search.val(""),a.resizeSearch(),a.$search.removeAttr("aria-controls"),a.$search.removeAttr("aria-activedescendant"),a.$search.trigger("focus")})),i.on("enable",(function(){a.$search.prop("disabled",!1),a._transferTabIndex()})),i.on("disable",(function(){a.$search.prop("disabled",!0)})),i.on("focus",(function(t){a.$search.trigger("focus")})),i.on("results:focus",(function(t){t.data._resultId?a.$search.attr("aria-activedescendant",t.data._resultId):a.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(t){a.trigger("focus",t)})),this.$selection.on("focusout",".select2-search--inline",(function(t){a._handleBlur(t)})),this.$selection.on("keydown",".select2-search--inline",(function(t){var i;t.stopPropagation(),a.trigger("keypress",t),a._keyUpPrevented=t.isDefaultPrevented(),t.which!==s.BACKSPACE||""!==a.$search.val()||0<(i=a.$selection.find(".select2-selection__choice").last()).length&&(i=e.GetData(i[0],"data"),a.searchRemoveChoice(i),t.preventDefault())})),this.$selection.on("click",".select2-search--inline",(function(t){a.$search.val()&&t.stopPropagation()}));var l=(i=document.documentMode)&&i<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(t){l?a.$selection.off("input.search input.searchcheck"):a.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(t){var e;l&&"input"===t.type?a.$selection.off("input.search input.searchcheck"):(e=t.which)!=s.SHIFT&&e!=s.CTRL&&e!=s.ALT&&e!=s.TAB&&a.handleSearch(t)}))},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var s=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.resizeSearch(),s&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){var t;this.resizeSearch(),this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="100%";""===this.$search.attr("placeholder")&&(t=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",t)},i})),b.define("select2/selection/selectionCss",["../utils"],(function(t){function e(){}return e.prototype.render=function(e){var s=e.call(this);return-1!==(e=this.options.get("selectionCssClass")||"").indexOf(":all:")&&(e=e.replace(":all:",""),t.copyNonInternalCssClasses(s[0],this.$element[0])),s.addClass(e),s},e})),b.define("select2/selection/eventRelay",["jquery"],(function(t){function e(){}return e.prototype.bind=function(e,s,i){var n=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],r=["opening","closing","selecting","unselecting","clearing"];e.call(this,s,i),s.on("*",(function(e,s){var i;-1!==a.indexOf(e)&&(s=s||{},i=t.Event("select2:"+e,{params:s}),n.$element.trigger(i),-1!==r.indexOf(e)&&(s.prevented=i.isDefaultPrevented()))}))},e})),b.define("select2/translation",["jquery","require"],(function(t,e){function s(t){this.dict=t||{}}return s.prototype.all=function(){return this.dict},s.prototype.get=function(t){return this.dict[t]},s.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},s._cache={},s.loadPath=function(t){var i;return t in s._cache||(i=e(t),s._cache[t]=i),new s(s._cache[t])},s})),b.define("select2/diacritics",[],(function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}})),b.define("select2/data/base",["../utils"],(function(t){function e(t,s){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,s){return e=e.id+"-result-",e+=t.generateChars(4),null!=s.id?e+="-"+s.id.toString():e+="-"+t.generateChars(4),e},e})),b.define("select2/data/select",["./base","../utils","jquery"],(function(t,e,s){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=this;t(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),(function(t){return e.item(s(t))})))},i.prototype.select=function(t){var e,s=this;if(t.selected=!0,null!=t.element&&"option"===t.element.tagName.toLowerCase())return t.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current((function(e){var i=[];(t=[t]).push.apply(t,e);for(var n=0;n<t.length;n++){var a=t[n].id;-1===i.indexOf(a)&&i.push(a)}s.$element.val(i),s.$element.trigger("input").trigger("change")})):(e=t.id,this.$element.val(e),this.$element.trigger("input").trigger("change"))},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,null!=t.element&&"option"===t.element.tagName.toLowerCase())return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(s){for(var i=[],n=0;n<s.length;n++){var a=s[n].id;a!==t.id&&-1===i.indexOf(a)&&i.push(a)}e.$element.val(i),e.$element.trigger("input").trigger("change")}))}},i.prototype.bind=function(t,e){var s=this;(this.container=t).on("select",(function(t){s.select(t.data)})),t.on("unselect",(function(t){s.unselect(t.data)}))},i.prototype.destroy=function(){this.$element.find("*").each((function(){e.RemoveData(this)}))},i.prototype.query=function(t,e){var i=[],n=this;this.$element.children().each((function(){var e;"option"!==this.tagName.toLowerCase()&&"optgroup"!==this.tagName.toLowerCase()||(e=s(this),e=n.item(e),null!==(e=n.matches(t,e))&&i.push(e))})),e({results:i})},i.prototype.addOptions=function(t){this.$element.append(t)},i.prototype.option=function(t){var i;return t.children?(i=document.createElement("optgroup")).label=t.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=t.text:i.innerText=t.text,void 0!==t.id&&(i.value=t.id),t.disabled&&(i.disabled=!0),t.selected&&(i.selected=!0),t.title&&(i.title=t.title),(t=this._normalizeItem(t)).element=i,e.StoreData(i,"data",t),s(i)},i.prototype.item=function(t){var i={};if(null!=(i=e.GetData(t[0],"data")))return i;var n=t[0];if("option"===n.tagName.toLowerCase())i={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if("optgroup"===n.tagName.toLowerCase()){i={text:t.prop("label"),children:[],title:t.prop("title")};for(var a=t.children("option"),r=[],o=0;o<a.length;o++){var l=s(a[o]);l=this.item(l);r.push(l)}i.children=r}return(i=this._normalizeItem(i)).element=t[0],e.StoreData(t[0],"data",i),i},i.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=s.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),s.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i})),b.define("select2/data/array",["./select","../utils","jquery"],(function(t,e,s){function i(t,e){this._dataToConvert=e.get("data")||[],i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype.bind=function(t,e){i.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(t){var e=this.$element.find("option").filter((function(e,s){return s.value==t.id.toString()}));0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){for(var e=this,i=this.$element.find("option"),n=i.map((function(){return e.item(s(this)).id})).get(),a=[],r=0;r<t.length;r++){var o,l,h=this._normalizeItem(t[r]);0<=n.indexOf(h.id)?(o=i.filter(function(t){return function(){return s(this).val()==t.id}}(h)),l=this.item(o),l=s.extend(!0,{},h,l),l=this.option(l),o.replaceWith(l)):(l=this.option(h),h.children&&(h=this.convertToOptions(h.children),l.append(h)),a.push(l))}return a},i})),b.define("select2/data/ajax",["./array","../utils","jquery"],(function(t,e,s){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){return s.extend({},{data:function(t){return s.extend({},t,{q:t.term})},transport:function(t,e,i){return(t=s.ajax(t)).then(e),t.fail(i),t}},t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){var i=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var n=s.extend({type:"GET"},this.ajaxOptions);function a(){var s=n.transport(n,(function(s){s=i.processResults(s,t),i.options.get("debug")&&window.console&&console.error&&(s&&s.results&&Array.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(s)}),(function(){"status"in s&&(0===s.status||"0"===s.status)||i.trigger("results:message",{message:"errorLoading"})}));i._request=s}"function"==typeof n.url&&(n.url=n.url.call(this.$element,t)),"function"==typeof n.data&&(n.data=n.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(a,this.ajaxOptions.delay)):a()},i})),b.define("select2/data/tags",["jquery"],(function(t){function e(t,e,s){var i=s.get("tags"),n=s.get("createTag");if(void 0!==n&&(this.createTag=n),void 0!==(n=s.get("insertTag"))&&(this.insertTag=n),t.call(this,e,s),Array.isArray(i))for(var a=0;a<i.length;a++){var r=i[a];r=this._normalizeItem(r),r=this.option(r);this.$element.append(r)}}return e.prototype.query=function(t,e,s){var i=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,(function t(n,a){for(var r=n.results,o=0;o<r.length;o++){var l=r[o],h=null!=l.children&&!t({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||h)return!a&&(n.data=r,void s(n))}if(a)return!0;var d,c=i.createTag(e);null!=c&&((d=i.option(c)).attr("data-select2-tag","true"),i.addOptions([d]),i.insertTag(r,c)),n.results=r,s(n)})):t.call(this,e,s)},e.prototype.createTag=function(t,e){return null==e.term||""===(e=e.term.trim())?null:{id:e,text:e}},e.prototype.insertTag=function(t,e,s){e.unshift(s)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each((function(){this.selected||t(this).remove()}))},e})),b.define("select2/data/tokenizer",["jquery"],(function(t){function e(t,e,s){var i=s.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,s)}return e.prototype.bind=function(t,e,s){t.call(this,e,s),this.$search=e.dropdown.$search||e.selection.$search||s.find(".select2-search__field")},e.prototype.query=function(e,s,i){var n=this;s.term=s.term||"";var a=this.tokenizer(s,this.options,(function(e){var s,i=n._normalizeItem(e);n.$element.find("option").filter((function(){return t(this).val()===i.id})).length||((s=n.option(i)).attr("data-select2-tag",!0),n._removeOldTags(),n.addOptions([s])),s=i,n.trigger("select",{data:s})}));a.term!==s.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.trigger("focus")),s.term=a.term),e.call(this,s,i)},e.prototype.tokenizer=function(e,s,i,n){for(var a=i.get("tokenSeparators")||[],r=s.term,o=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};o<r.length;){var h=r[o];-1!==a.indexOf(h)?(h=r.substr(0,o),null!=(h=l(t.extend({},s,{term:h})))?(n(h),r=r.substr(o+1)||"",o=0):o++):o++}return{term:r}},e})),b.define("select2/data/minimumInputLength",[],(function(){function t(t,e,s){this.minimumInputLength=s.get("minimumInputLength"),t.call(this,e,s)}return t.prototype.query=function(t,e,s){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,s)},t})),b.define("select2/data/maximumInputLength",[],(function(){function t(t,e,s){this.maximumInputLength=s.get("maximumInputLength"),t.call(this,e,s)}return t.prototype.query=function(t,e,s){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,s)},t})),b.define("select2/data/maximumSelectionLength",[],(function(){function t(t,e,s){this.maximumSelectionLength=s.get("maximumSelectionLength"),t.call(this,e,s)}return t.prototype.bind=function(t,e,s){var i=this;t.call(this,e,s),e.on("select",(function(){i._checkIfMaximumSelected()}))},t.prototype.query=function(t,e,s){var i=this;this._checkIfMaximumSelected((function(){t.call(i,e,s)}))},t.prototype._checkIfMaximumSelected=function(t,e){var s=this;this.current((function(t){t=null!=t?t.length:0,0<s.maximumSelectionLength&&t>=s.maximumSelectionLength?s.trigger("results:message",{message:"maximumSelected",args:{maximum:s.maximumSelectionLength}}):e&&e()}))},t})),b.define("select2/dropdown",["jquery","./utils"],(function(t,e){function s(t,e){this.$element=t,this.options=e,s.__super__.constructor.call(this)}return e.Extend(s,e.Observable),s.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},s.prototype.bind=function(){},s.prototype.position=function(t,e){},s.prototype.destroy=function(){this.$dropdown.remove()},s})),b.define("select2/dropdown/search",["jquery"],(function(t){function e(){}return e.prototype.render=function(e){var s=e.call(this),i=this.options.get("translations").get("search");e=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=e,this.$search=e.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",i()),s.prepend(e),s},e.prototype.bind=function(e,s,i){var n=this,a=s.id+"-results";e.call(this,s,i),this.$search.on("keydown",(function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()})),this.$search.on("input",(function(e){t(this).off("keyup")})),this.$search.on("keyup input",(function(t){n.handleSearch(t)})),s.on("open",(function(){n.$search.attr("tabindex",0),n.$search.attr("aria-controls",a),n.$search.trigger("focus"),window.setTimeout((function(){n.$search.trigger("focus")}),0)})),s.on("close",(function(){n.$search.attr("tabindex",-1),n.$search.removeAttr("aria-controls"),n.$search.removeAttr("aria-activedescendant"),n.$search.val(""),n.$search.trigger("blur")})),s.on("focus",(function(){s.isOpen()||n.$search.trigger("focus")})),s.on("results:all",(function(t){null!=t.query.term&&""!==t.query.term||(n.showSearch(t)?n.$searchContainer[0].classList.remove("select2-search--hide"):n.$searchContainer[0].classList.add("select2-search--hide"))})),s.on("results:focus",(function(t){t.data._resultId?n.$search.attr("aria-activedescendant",t.data._resultId):n.$search.removeAttr("aria-activedescendant")}))},e.prototype.handleSearch=function(t){var e;this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e})),b.define("select2/dropdown/hidePlaceholder",[],(function(){function t(t,e,s,i){this.placeholder=this.normalizePlaceholder(s.get("placeholder")),t.call(this,e,s,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e?{id:"",text:e}:e},t.prototype.removePlaceholder=function(t,e){for(var s=e.slice(0),i=e.length-1;0<=i;i--){var n=e[i];this.placeholder.id===n.id&&s.splice(i,1)}return s},t})),b.define("select2/dropdown/infiniteScroll",["jquery"],(function(t){function e(t,e,s,i){this.lastParams={},t.call(this,e,s,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,s){var i=this;t.call(this,e,s),e.on("query",(function(t){i.lastParams=t,i.loading=!0})),e.on("query:append",(function(t){i.lastParams=t,i.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&(e=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50&&this.loadMore())},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),s=this.options.get("translations").get("loadingMore");return e.html(s(this.lastParams)),e},e})),b.define("select2/dropdown/attachBody",["jquery","../utils"],(function(t,e){function s(e,s,i){this.$dropdownParent=t(i.get("dropdownParent")||document.body),e.call(this,s,i)}return s.prototype.bind=function(t,e,s){var i=this;t.call(this,e,s),e.on("open",(function(){i._showDropdown(),i._attachPositioningHandler(e),i._bindContainerResultHandlers(e)})),e.on("close",(function(){i._hideDropdown(),i._detachPositioningHandler(e)})),this.$dropdownContainer.on("mousedown",(function(t){t.stopPropagation()}))},s.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},s.prototype.position=function(t,e,s){e.attr("class",s.attr("class")),e[0].classList.remove("select2"),e[0].classList.add("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=s},s.prototype.render=function(e){var s=t("<span></span>");e=e.call(this);return s.append(e),this.$dropdownContainer=s},s.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},s.prototype._bindContainerResultHandlers=function(t,e){var s;this._containerResultsHandlersBound||(s=this,e.on("results:all",(function(){s._positionDropdown(),s._resizeDropdown()})),e.on("results:append",(function(){s._positionDropdown(),s._resizeDropdown()})),e.on("results:message",(function(){s._positionDropdown(),s._resizeDropdown()})),e.on("select",(function(){s._positionDropdown(),s._resizeDropdown()})),e.on("unselect",(function(){s._positionDropdown(),s._resizeDropdown()})),this._containerResultsHandlersBound=!0)},s.prototype._attachPositioningHandler=function(s,i){var n=this,a="scroll.select2."+i.id,r="resize.select2."+i.id,o="orientationchange.select2."+i.id;(i=this.$container.parents().filter(e.hasScroll)).each((function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})})),i.on(a,(function(s){var i=e.GetData(this,"select2-scroll-position");t(this).scrollTop(i.y)})),t(window).on(a+" "+r+" "+o,(function(t){n._positionDropdown(),n._resizeDropdown()}))},s.prototype._detachPositioningHandler=function(s,i){var n="scroll.select2."+i.id,a="resize.select2."+i.id;i="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(n),t(window).off(n+" "+a+" "+i)},s.prototype._positionDropdown=function(){var e=t(window),s=this.$dropdown[0].classList.contains("select2-dropdown--above"),i=this.$dropdown[0].classList.contains("select2-dropdown--below"),n=null,a=this.$container.offset();a.bottom=a.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=a.top,r.bottom=a.top+r.height;var o=this.$dropdown.outerHeight(!1),l=e.scrollTop(),h=e.scrollTop()+e.height(),d=l<a.top-o;e=h>a.bottom+o,l={left:a.left,top:r.bottom};"static"===(h=this.$dropdownParent).css("position")&&(h=h.offsetParent()),a={top:0,left:0},(t.contains(document.body,h[0])||h[0].isConnected)&&(a=h.offset()),l.top-=a.top,l.left-=a.left,s||i||(n="below"),e||!d||s?!d&&e&&s&&(n="below"):n="above",("above"==n||s&&"below"!==n)&&(l.top=r.top-a.top-o),null!=n&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+n),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+n)),this.$dropdownContainer.css(l)},s.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},s.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},s})),b.define("select2/dropdown/minimumResultsForSearch",[],(function(){function t(t,e,s,i){this.minimumResultsForSearch=s.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,s,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var s=0,i=0;i<e.length;i++){var n=e[i];n.children?s+=t(n.children):s++}return s}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t})),b.define("select2/dropdown/selectOnClose",["../utils"],(function(t){function e(){}return e.prototype.bind=function(t,e,s){var i=this;t.call(this,e,s),e.on("close",(function(t){i._handleSelectOnClose(t)}))},e.prototype._handleSelectOnClose=function(e,s){if(s&&null!=s.originalSelect2Event){var i=s.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}(i=this.getHighlightedResults()).length<1||null!=(i=t.GetData(i[0],"data")).element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})},e})),b.define("select2/dropdown/closeOnSelect",[],(function(){function t(){}return t.prototype.bind=function(t,e,s){var i=this;t.call(this,e,s),e.on("select",(function(t){i._selectTriggered(t)})),e.on("unselect",(function(t){i._selectTriggered(t)}))},t.prototype._selectTriggered=function(t,e){var s=e.originalEvent;s&&(s.ctrlKey||s.metaKey)||this.trigger("close",{originalEvent:s,originalSelect2Event:e})},t})),b.define("select2/dropdown/dropdownCss",["../utils"],(function(t){function e(){}return e.prototype.render=function(e){var s=e.call(this);return-1!==(e=this.options.get("dropdownCssClass")||"").indexOf(":all:")&&(e=e.replace(":all:",""),t.copyNonInternalCssClasses(s[0],this.$element[0])),s.addClass(e),s},e})),b.define("select2/dropdown/tagsSearchHighlight",["../utils"],(function(t){function e(){}return e.prototype.highlightFirstItem=function(e){if(0<(s=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)")).length){var s,i=s.first();if((s=t.GetData(i[0],"data").element)&&s.getAttribute&&"true"===s.getAttribute("data-select2-tag"))return void i.trigger("mouseenter")}e.call(this)},e})),b.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum;t="Please delete "+e+" character";return 1!=e&&(t+="s"),t},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}})),b.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],(function(t,e,s,i,n,a,r,o,l,h,d,c,u,p,f,g,m,v,y,_,w,D,b,k,x,T,S,M,O,C,A){function E(){this.reset()}return E.prototype.apply=function(d){var c;null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter&&(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=u,0<d.minimumInputLength&&(d.dataAdapter=h.Decorate(d.dataAdapter,v)),0<d.maximumInputLength&&(d.dataAdapter=h.Decorate(d.dataAdapter,y)),0<d.maximumSelectionLength&&(d.dataAdapter=h.Decorate(d.dataAdapter,_)),d.tags&&(d.dataAdapter=h.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=h.Decorate(d.dataAdapter,m))),null==d.resultsAdapter&&(d.resultsAdapter=e,null!=d.ajax&&(d.resultsAdapter=h.Decorate(d.resultsAdapter,k)),null!=d.placeholder&&(d.resultsAdapter=h.Decorate(d.resultsAdapter,b)),d.selectOnClose&&(d.resultsAdapter=h.Decorate(d.resultsAdapter,S)),d.tags&&(d.resultsAdapter=h.Decorate(d.resultsAdapter,C))),null==d.dropdownAdapter&&(d.multiple?d.dropdownAdapter=w:(c=h.Decorate(w,D),d.dropdownAdapter=c),0!==d.minimumResultsForSearch&&(d.dropdownAdapter=h.Decorate(d.dropdownAdapter,T)),d.closeOnSelect&&(d.dropdownAdapter=h.Decorate(d.dropdownAdapter,M)),null!=d.dropdownCssClass&&(d.dropdownAdapter=h.Decorate(d.dropdownAdapter,O)),d.dropdownAdapter=h.Decorate(d.dropdownAdapter,x)),null==d.selectionAdapter&&(d.multiple?d.selectionAdapter=i:d.selectionAdapter=s,null!=d.placeholder&&(d.selectionAdapter=h.Decorate(d.selectionAdapter,n)),d.allowClear&&(d.selectionAdapter=h.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=h.Decorate(d.selectionAdapter,r)),null!=d.selectionCssClass&&(d.selectionAdapter=h.Decorate(d.selectionAdapter,o)),d.selectionAdapter=h.Decorate(d.selectionAdapter,l)),d.language=this._resolveLanguage(d.language),d.language.push("en");for(var A=[],E=0;E<d.language.length;E++){var Y=d.language[E];-1===A.indexOf(Y)&&A.push(Y)}return d.language=A,d.translations=this._processTranslations(d.language,d.debug),d},E.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return c[t]||t}))}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:{},matcher:function s(i,n){if(null==i.term||""===i.term.trim())return n;if(n.children&&0<n.children.length){for(var a=t.extend(!0,{},n),r=n.children.length-1;0<=r;r--)null==s(i,n.children[r])&&a.children.splice(r,1);return 0<a.children.length?a:s(i,a)}var o=e(n.text).toUpperCase(),l=e(i.term).toUpperCase();return-1<o.indexOf(l)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},E.prototype.applyFromElement=function(t,e){var s=t.language,i=this.defaults.language,n=e.prop("lang");e=e.closest("[lang]").prop("lang"),e=Array.prototype.concat.call(this._resolveLanguage(n),this._resolveLanguage(s),this._resolveLanguage(i),this._resolveLanguage(e));return t.language=e,t},E.prototype._resolveLanguage=function(e){if(!e||t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];for(var s,i=Array.isArray(e)?e:[e],n=[],a=0;a<i.length;a++)n.push(i[a]),"string"==typeof i[a]&&0<i[a].indexOf("-")&&(s=i[a].split("-")[0],n.push(s));return n},E.prototype._processTranslations=function(e,s){for(var i=new d,n=0;n<e.length;n++){var a=new d,r=e[n];if("string"==typeof r)try{a=d.loadPath(r)}catch(t){try{r=this.defaults.amdLanguageBase+r,a=d.loadPath(r)}catch(t){s&&window.console&&console.warn&&console.warn('Select2: The language file for "'+r+'" could not be automatically loaded. A fallback will be used instead.')}}else a=t.isPlainObject(r)?new d(r):r;i.extend(a)}return i},E.prototype.set=function(e,s){var i={};i[t.camelCase(e)]=s,i=h._convertData(i),t.extend(!0,this.defaults,i)},new E})),b.define("select2/options",["jquery","./defaults","./utils"],(function(t,e,s){function i(t,s){this.options=t,null!=s&&this.fromElement(s),null!=s&&(this.options=e.applyFromElement(this.options,s)),this.options=e.apply(this.options)}return i.prototype.fromElement=function(e){var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.autocomplete&&e.prop("autocomplete")&&(this.options.autocomplete=e.prop("autocomplete")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),s.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),s.StoreData(e[0],"data",s.GetData(e[0],"select2Tags")),s.StoreData(e[0],"tags",!0)),s.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",s.GetData(e[0],"ajaxUrl")),s.StoreData(e[0],"ajax-Url",s.GetData(e[0],"ajaxUrl")));var n={};function a(t,e){return e.toUpperCase()}for(var r=0;r<e[0].attributes.length;r++){var o=e[0].attributes[r].name,l="data-";o.substr(0,l.length)==l&&(o=o.substring(l.length),l=s.GetData(e[0],o),n[o.replace(/-([a-z])/g,a)]=l)}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(n=t.extend(!0,{},e[0].dataset,n));var h,d=t.extend(!0,{},s.GetData(e[0]),n);for(h in d=s._convertData(d))-1<i.indexOf(h)||(t.isPlainObject(this.options[h])?t.extend(this.options[h],d[h]):this.options[h]=d[h]);return this},i.prototype.get=function(t){return this.options[t]},i.prototype.set=function(t,e){this.options[t]=e},i})),b.define("select2/core",["jquery","./options","./utils","./keys"],(function(t,e,s,i){var n=function(t,i){null!=s.GetData(t[0],"select2")&&s.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),n.__super__.constructor.call(this);var a=t.attr("tabindex")||0;s.StoreData(t[0],"old-tabindex",a),t.attr("tabindex","-1"),i=this.options.get("dataAdapter"),this.dataAdapter=new i(t,this.options),a=this.render(),this._placeContainer(a),i=this.options.get("selectionAdapter"),this.selection=new i(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a),i=this.options.get("dropdownAdapter"),this.dropdown=new i(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a),a=this.options.get("resultsAdapter"),this.results=new a(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var r=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(t){r.trigger("selection:update",{data:t})})),t[0].classList.add("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),s.StoreData(t[0],"select2",this),t.data("select2",this)};return s.Extend(n,s.Observable),n.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+s.generateChars(2):s.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},n.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},n.prototype._resolveWidth=function(t,e){var s=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e)return(i=t.outerWidth(!1))<=0?"auto":i+"px";if("style"!=e)return"computedstyle"!=e?e:window.getComputedStyle(t[0]).width;if("string"!=typeof(t=t.attr("style")))return null;for(var n=t.split(";"),a=0,r=n.length;a<r;a+=1){var o=n[a].replace(/\s/g,"").match(s);if(null!==o&&1<=o.length)return o[1]}return null},n.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},n.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",(function(){t.dataAdapter.current((function(e){t.trigger("selection:update",{data:e})}))})),this.$element.on("focus.select2",(function(e){t.trigger("focus",e)})),this._syncA=s.bind(this._syncAttributes,this),this._syncS=s.bind(this._syncSubtree,this),this._observer=new window.MutationObserver((function(e){t._syncA(),t._syncS(e)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},n.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",(function(e,s){t.trigger(e,s)}))},n.prototype._registerSelectionEvents=function(){var t=this,e=["toggle","focus"];this.selection.on("toggle",(function(){t.toggleDropdown()})),this.selection.on("focus",(function(e){t.focus(e)})),this.selection.on("*",(function(s,i){-1===e.indexOf(s)&&t.trigger(s,i)}))},n.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",(function(e,s){t.trigger(e,s)}))},n.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",(function(e,s){t.trigger(e,s)}))},n.prototype._registerEvents=function(){var t=this;this.on("open",(function(){t.$container[0].classList.add("select2-container--open")})),this.on("close",(function(){t.$container[0].classList.remove("select2-container--open")})),this.on("enable",(function(){t.$container[0].classList.remove("select2-container--disabled")})),this.on("disable",(function(){t.$container[0].classList.add("select2-container--disabled")})),this.on("blur",(function(){t.$container[0].classList.remove("select2-container--focus")})),this.on("query",(function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,(function(s){t.trigger("results:all",{data:s,query:e})}))})),this.on("query:append",(function(e){this.dataAdapter.query(e,(function(s){t.trigger("results:append",{data:s,query:e})}))})),this.on("keypress",(function(e){var s=e.which;t.isOpen()?s===i.ESC||s===i.UP&&e.altKey?(t.close(e),e.preventDefault()):s===i.ENTER||s===i.TAB?(t.trigger("results:select",{}),e.preventDefault()):s===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):s===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):s===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(s===i.ENTER||s===i.SPACE||s===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())}))},n.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},n.prototype._isChangeMutation=function(t){var e=this;if(t.addedNodes&&0<t.addedNodes.length){for(var s=0;s<t.addedNodes.length;s++)if(t.addedNodes[s].selected)return!0}else{if(t.removedNodes&&0<t.removedNodes.length)return!0;if(Array.isArray(t))return t.some((function(t){return e._isChangeMutation(t)}))}return!1},n.prototype._syncSubtree=function(t){t=this._isChangeMutation(t);var e=this;t&&this.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))},n.prototype.trigger=function(t,e){var s=n.__super__.trigger;if(void 0===e&&(e={}),t in(a={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"})){var i=a[t],a={prevented:!1,name:t,args:e};if(s.call(this,i,a),a.prevented)return void(e.prevented=!0)}s.call(this,t,e)},n.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},n.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},n.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},n.prototype.isEnabled=function(){return!this.isDisabled()},n.prototype.isDisabled=function(){return this.options.get("disabled")},n.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},n.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},n.prototype.focus=function(t){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},n.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),t=!(t=null==t||0===t.length?[!0]:t)[0],this.$element.prop("disabled",t)},n.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current((function(e){t=e})),t},n.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();Array.isArray(t=t[0])&&(t=t.map((function(t){return t.toString()}))),this.$element.val(t).trigger("input").trigger("change")},n.prototype.destroy=function(){s.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",s.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),s.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},n.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),s.StoreData(e[0],"element",this.$element),e},n})),b.define("jquery-mousewheel",["jquery"],(function(t){return t})),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(t,e,s,i,n){var a;return null==t.fn.select2&&(a=["open","close","destroy"],t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each((function(){var i=t.extend(!0,{},e);new s(t(this),i)})),this;if("string"!=typeof e)throw Error("Invalid arguments for Select2: "+e);var i,r=Array.prototype.slice.call(arguments,1);return this.each((function(){var t=n.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,r)})),-1<a.indexOf(e)?this:i}),null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),s})),{define:b.define,require:b.require});function m(t,e){return u.call(t,e)}function v(t,e){var s,i,n,a,r,o,l,h,c,u,p=e&&e.split("/"),g=d.map,m=g&&g["*"]||{};if(t){for(e=(t=t.split("/")).length-1,d.nodeIdCompat&&f.test(t[e])&&(t[e]=t[e].replace(f,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),h=0;h<t.length;h++)"."===(u=t[h])?(t.splice(h,1),--h):".."===u&&(0===h||1===h&&".."===t[2]||".."===t[h-1]||0<h&&(t.splice(h-1,2),h-=2));t=t.join("/")}if((p||m)&&g){for(h=(s=t.split("/")).length;0<h;--h){if(i=s.slice(0,h).join("/"),p)for(c=p.length;0<c;--c)if(n=(n=g[p.slice(0,c).join("/")])&&n[i]){a=n,r=h;break}if(a)break;!o&&m&&m[i]&&(o=m[i],l=h)}!a&&o&&(a=o,r=l),a&&(s.splice(0,r,a),t=s.join("/"))}return t}function y(t,e){return function(){var s=p.call(arguments,0);return"string"!=typeof s[0]&&1===s.length&&s.push(null),a.apply(i,s.concat([t,e]))}}function _(t){var e;if(m(h,t)&&(e=h[t],delete h[t],c[t]=!0,n.apply(i,e)),!m(l,t)&&!m(c,t))throw Error("No "+t);return l[t]}function w(t){var e,s=t?t.indexOf("!"):-1;return-1<s&&(e=t.substring(0,s),t=t.substring(s+1,t.length)),[e,t]}function D(t){return t?w(t):[]}var b=g.require("jquery.select2");return t.fn.select2.amd=g,b})),function(t,e){for(var s in e)t[s]=e[s]}(window,function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=482)}({187:function(t,e,s){t.exports=function(){"use strict";function t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}let s=(t,e,s,i)=>(t=""+t,e=""+e,i&&(t=t.trim(),e=e.trim()),s?t==e:t.toLowerCase()==e.toLowerCase());function i(t,e){var s,i={};for(s in t)0>e.indexOf(s)&&(i[s]=t[s]);return i}function n(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}function a(t,e){for(e=e||"previous";t=t[e+"Sibling"];)if(3==t.nodeType)return t}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;")}function o(t){return t instanceof Array}function l(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function h(t,e,s){function i(t,e){for(var s in e)if(e.hasOwnProperty(s)){if(l(e[s])){l(t[s])?i(t[s],e[s]):t[s]=Object.assign({},e[s]);continue}if(o(e[s])){t[s]=Object.assign([],e[s]);continue}t[s]=e[s]}}return t instanceof Object||(t={}),i(t,e),s&&i(t,s),t}function d(t){return String.prototype.normalize?"string"==typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}var c,u=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent),p={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,editTags:{clicks:2,keepInvalid:!0},transformTag(){},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"Â "},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tag:"tagify__tag",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",inputInvalid:"tagify__input--invalid",tagX:"tagify__tag__removeBtn",tagText:"tagify__tag-text",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownInital:"tagify__dropdown--initial",scopeLoading:"tagify--loading",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function f(t,e){return t?t.previousElementSibling&&t.previousElementSibling.classList.contains("tagify")?(console.warn("Tagify: ","input element is already Tagified",t),this):(h(this,function(t){var e=document.createTextNode("");function s(t,s,i){i&&s.split(/\s+/g).forEach((s=>e[t+"EventListener"].call(e,s,i)))}return{off(t,e){return s("remove",t,e),this},on(t,e){return e&&"function"==typeof e&&s("add",t,e),this},trigger(s,i,n){var a;if(n=n||{cloneData:!0},s)if(t.settings.isJQueryPlugin)"remove"==s&&(s="removeTag"),jQuery(t.DOM.originalInput).triggerHandler(s,[i]);else{try{var r="object"==typeof i?i:{value:i};if((r=n.cloneData?h({},r):r).tagify=this,i instanceof Object)for(var o in i)i[o]instanceof HTMLElement&&(r[o]=i[o]);a=new CustomEvent(s,{detail:r})}catch(t){console.warn(t)}e.dispatchEvent(a)}}}}(this)),this.isFirefox="undefined"!=typeof InstallTrigger,this.isIE=window.document.documentMode,this.applySettings(t,e||{}),this.state={inputText:"",editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),void(t.autofocus&&this.DOM.input.focus())):(console.warn("Tagify: ","input element not found",t),this)}return f.prototype={dropdown:{init(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownWrapperSelector)},show(t){var e,i,n,a=this.settings,r="mix"==a.mode&&!a.enforceWhitelist,o=!a.whitelist||!a.whitelist.length,h="manual"==a.dropdown.position;if(t=void 0===t?this.state.inputText:t,(!o||r||a.templates.dropdownItemNoMatch)&&!1!==a.dropdown.enable&&!this.state.isLoading){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems.call(this,t),t&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",t),a.templates.dropdownItemNoMatch&&(n=a.templates.dropdownItemNoMatch.call(this,{value:t}))),!n){if(this.suggestedListItems.length)t&&r&&!this.state.editing.scope&&!s(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!r||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide.call(this);this.suggestedListItems=[{value:t}]}i=""+(l(e=this.suggestedListItems[0])?e.value:e),a.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill.call(this,n),a.dropdown.highlightFirst&&this.dropdown.highlightOption.call(this,this.DOM.dropdown.content.children[0]),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),h||setTimeout((()=>{this.dropdown.position.call(this),this.dropdown.render.call(this)})),setTimeout((()=>{this.trigger("dropdown:show",this.DOM.dropdown)}))}},hide(t){var e=this.DOM,s=e.scope,i=e.dropdown,n="manual"==this.settings.dropdown.position&&!t;if(i&&document.body.contains(i)&&!n)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),s.setAttribute("aria-expanded",!1),i.parentNode.removeChild(i),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",i),this},render(){var t,e,s=((e=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(e),t=e.clientHeight,e.parentNode.removeChild(e),t),i=this.settings;return this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(i.classNames.dropdownInital),this.dropdown.position.call(this,s),i.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(i.classNames.dropdownInital)))),this},fill(t){var e;t="string"==typeof t?t:this.dropdown.createListHTML.call(this,t||this.suggestedListItems),this.DOM.dropdown.content.innerHTML=(e=t)?e.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,((t,e)=>e||" ")):""},refilter(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems.call(this,t),this.dropdown.fill.call(this),this.suggestedListItems.length||this.dropdown.hide.call(this),this.trigger("dropdown:updated",this.DOM.dropdown)},position(t){var e=this.settings.dropdown;if("manual"!=e.position){var s,i,n,a,r,o,l=this.DOM.dropdown,h=e.placeAbove,d=document.documentElement.clientHeight,c=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>480?e.position:"all",u=this.DOM["input"==c?"input":"scope"];t=t||l.clientHeight,this.state.dropdown.visible&&("text"==c?(n=(s=this.getCaretGlobalPosition()).bottom,i=s.top,a=s.left,r="auto"):(o=function(t){for(var e=0,s=0;t;)e+=t.offsetLeft||0,s+=t.offsetTop||0,t=t.parentNode;return{left:e,top:s}}(this.settings.dropdown.appendTarget),i=(s=u.getBoundingClientRect()).top-o.top,n=s.bottom-1-o.top,a=s.left-o.left,r=s.width+"px"),i=Math.floor(i),n=Math.ceil(n),h=void 0===h?d-s.bottom<t:h,l.style.cssText="left:"+(a+window.pageXOffset)+"px; width:"+r+";"+(h?"top: "+(i+window.pageYOffset)+"px":"top: "+(n+window.pageYOffset)+"px"),l.setAttribute("placement",h?"top":"bottom"),l.setAttribute("position",c))}},events:{binding(t=!0){var e=this.dropdown.events.callbacks,s=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},i=t?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(window[i]("resize",s.position),window[i]("keydown",s.onKeyDown)),this.DOM.dropdown[i]("mouseover",s.onMouseOver),this.DOM.dropdown[i]("mouseleave",s.onMouseLeave),this.DOM.dropdown[i]("mousedown",s.onClick),this.DOM.dropdown.content[i]("scroll",s.onScroll)},callbacks:{onKeyDown(t){var e,s=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),i=this.dropdown.getSuggestionDataByNode.call(this,s);switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":t.preventDefault(),s&&(s=s[("ArrowUp"==t.key||"Up"==t.key?"previous":"next")+"ElementSibling"]),s||(s=(e=this.DOM.dropdown.content.children)["ArrowUp"==t.key||"Up"==t.key?e.length-1:0]),i=this.dropdown.getSuggestionDataByNode.call(this,s),this.dropdown.highlightOption.call(this,s,!0);break;case"Escape":case"Esc":this.dropdown.hide.call(this);break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&s&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var n=this.dropdown.getMappedValue.call(this,i);return this.input.autocomplete.set.call(this,n),!1}return!0;case"Enter":t.preventDefault(),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:s}).then((()=>{s?this.dropdown.selectOption.call(this,s):this.dropdown.hide.call(this)})).catch((t=>t));break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;let t=this.state.inputText.trim();""!=t&&8203!=t.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);e&&this.dropdown.highlightOption.call(this,e)},onMouseLeave(t){this.dropdown.highlightOption.call(this)},onClick(t){if(0==t.button&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var e=t.target.closest(this.settings.classNames.dropdownItemSelector),s=this.dropdown.getSuggestionDataByNode.call(this,e);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:s,suggestionElm:e}).then((()=>{e?this.dropdown.selectOption.call(this,e):this.dropdown.hide.call(this)})).catch((t=>t))}},onScroll(t){var e=t.target,s=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(s)})}}},getSuggestionDataByNode(t){var e=t?+t.getAttribute("tagifySuggestionIdx"):-1;return this.suggestedListItems[e]||null},highlightOption(t,e){var s,i=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(i),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);s=this.suggestedListItems[this.getNodeIndex(t)],this.state.ddItemData=s,this.state.ddItemElm=t,t.classList.add(i),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,s),this.dropdown.position.call(this))},selectOption(t){var e=this.settings.dropdown,s=e.clearOnSelect,i=e.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(i&&this.dropdown.hide.call(this));var n=t.getAttribute("tagifySuggestionIdx"),a=this.suggestedListItems[+n];this.trigger("dropdown:select",{data:a,elm:t}),n&&a?(this.state.editing?this.onEditTagDone(null,h({__isValid:!0},a)):this["mix"==this.settings.mode?"addMixTags":"addTags"]([a],s),setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)})),i?setTimeout(this.dropdown.hide.bind(this)):this.dropdown.refilter.call(this)):this.dropdown.hide.call(this)},selectAll(){return this.suggestedListItems.length=0,this.dropdown.hide.call(this),this.addTags(this.dropdown.filterListItems.call(this,""),!0),this},filterListItems(t,e){var s,i,n,a,r,o=this.settings,h=o.dropdown,c=(e=e||{},t="select"==o.mode&&this.value.length&&this.value[0][o.tagTextProp]==t?"":t,[]),u=o.whitelist,p=h.maxItems||1/0,f=h.searchKeys,g=0;if(!t||!f.length)return(o.duplicates?u:u.filter((t=>!this.isTagDuplicate(l(t)?t.value:t)))).slice(0,p);function m(t,e){return e.toLowerCase().split(" ").every((e=>t.includes(e.toLowerCase())))}for(r=h.caseSensitive?""+t:(""+t).toLowerCase();g<u.length;g++){let t=Object.keys(s=u[g]instanceof Object?u[g]:{value:u[g]}).some((t=>f.includes(t)))?f:["value"];if(h.fuzzySearch&&!e.exact?(n=t.reduce(((t,e)=>t+" "+(s[e]||"")),"").toLowerCase(),h.accentedSearch&&(n=d(n),r=d(r)),i=m(n,r)):i=t.some((t=>{var i=""+(s[t]||"");return h.accentedSearch&&(i=d(i),r=d(r)),h.caseSensitive||(i=i.toLowerCase()),e.exact?i==r:0==i.indexOf(r)})),a=!o.duplicates&&this.isTagDuplicate(l(s)?s.value:s),i&&!a&&p--&&c.push(s),0==p)break}return c},getMappedValue(t){var e=this.settings.dropdown.mapValueTo;return e?"function"==typeof e?e(t):t[e]||t.value:t.value},createListHTML(t){return h([],t).map(((t,e)=>{"string"!=typeof t&&"number"!=typeof t||(t={value:t});var s=this.dropdown.getMappedValue.call(this,t);return t.value=s&&"string"==typeof s?r(s):s,this.settings.templates.dropdownItem.call(this,t).replace(/\s*tagifySuggestionIdx=(["'])(.*?)\1/gim,"").replace(">",` tagifySuggestionIdx="${e}">`)})).join("")}},TEXTS:{empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(t){return this.settings.trim&&t&&"string"==typeof t?t.trim():t},parseHTML:function(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild},templates:{wrapper:(t,e)=>`<tags class="${e.classNames.namespace} ${e.mode?""+e.classNames[e.mode+"Mode"]:""} ${t.className}"\n                    ${e.readonly?"readonly":""}\n                    ${e.required?"required":""}\n                    tabIndex="-1">\n            <span ${e.readonly&&"mix"==e.mode?"":"contenteditable"} data-placeholder="${e.placeholder||"&#8203;"}" aria-placeholder="${e.placeholder||""}"\n                class="${e.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==e.mode}"></span>\n        </tags>`,tag(t){return`<tag title="${t.title||t.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${this.settings.a11y.focusableTags?0:-1}"\n                    class="${this.settings.classNames.tag} ${t.class?t.class:""}"\n                    ${this.getAttributes(t)}>\n            <x title='' class="${this.settings.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${this.settings.classNames.tagText}">${t[this.settings.tagTextProp]||t.value}</span>\n            </div>\n        </tag>`},dropdown(t){var e=t.dropdown;return`<div class="${"manual"==e.position?"":""+t.classNames.dropdown} ${e.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div class="${t.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownItem(t){return`<div ${this.getAttributes(t)}\n                    class='${this.settings.classNames.dropdownItem} ${t.class?t.class:""}'\n                    tabindex="0"\n                    role="option">${t.value}</div>`},dropdownItemNoMatch:null},parseTemplate(t,e){return t=this.settings.templates[t]||t,this.parseHTML(t.apply(this,e))},applySettings(t,e){p.templates=this.templates;var s=this.settings=h({},p,e);for(let e in s.readonly=t.hasAttribute("readonly"),s.placeholder=t.getAttribute("placeholder")||s.placeholder||"",s.required=t.hasAttribute("required"),s.classNames)Object.defineProperty(s.classNames,e+"Selector",{get(){return"."+this[e].split(" ").join(".")}});if(this.isIE&&(s.autoComplete=!1),["whitelist","blacklist"].forEach((e=>{var i=t.getAttribute("data-"+e);i&&(i=i.split(s.delimiters))instanceof Array&&(s[e]=i)})),"autoComplete"in e&&!l(e.autoComplete)&&(s.autoComplete=p.autoComplete,s.autoComplete.enabled=e.autoComplete),"mix"==s.mode&&(s.autoComplete.rightKey=!0,s.delimiters=e.delimiters||null,s.tagTextProp&&!s.dropdown.searchKeys.includes(s.tagTextProp)&&s.dropdown.searchKeys.push(s.tagTextProp)),t.pattern)try{s.pattern=RegExp(t.pattern)}catch(t){}if(this.settings.delimiters)try{s.delimiters=RegExp(this.settings.delimiters,"g")}catch(t){}"select"==s.mode&&(s.dropdown.enabled=0),s.dropdown.appendTarget=e.dropdown&&e.dropdown.appendTarget?e.dropdown.appendTarget:document.body},getAttributes(t){if("[object Object]"!=Object.prototype.toString.call(t))return"";var e,s,i=Object.keys(t),n="";for(s=i.length;s--;)"__"!=(e=i[s]).slice(0,2)&&"class"!=e&&t.hasOwnProperty(e)&&void 0!==t[e]&&(n+=" "+e+(void 0!==t[e]?`="${t[e]}"`:""));return n},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCaretGlobalPosition(){let t=document.getSelection();if(t.rangeCount){let e,s,i=t.getRangeAt(0),n=i.startContainer,a=i.startOffset;if(a>0)return(s=document.createRange()).setStart(n,a-1),s.setEnd(n,a),{left:(e=s.getBoundingClientRect()).right,top:e.top,bottom:e.bottom};if(n.getBoundingClientRect)return n.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars(){var t=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(({value:t,unit:e})=>"s"==e?1e3*t:t)(function(t){if(!t)return{};var e=(t=t.trim().split(" ")[0]).split(/\d+/g).filter((t=>t)).pop().trim();return{value:+t.split(e).filter((t=>t))[0].trim(),unit:e}}(t.getPropertyValue("--tag-hide-transition")))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t)),this.settings.dropdown.enabled>=0&&this.dropdown.init.call(this)},destroy(){this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide.call(this,!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues(t){var e,s=this.settings;if(void 0===t&&(t=s.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value),this.removeAllTags({withoutChangeEvent:!0}),t)if("mix"==s.mode)this.parseMixTags(t.trim()),(e=this.DOM.input.lastChild)&&"BR"==e.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(t)instanceof Array&&(t=JSON.parse(t))}catch(t){}this.addTags(t).forEach((t=>t&&t.classList.add(s.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=s.mixMode.integrated?"":this.DOM.originalInput.value,this.state.loadedOriginalValues=!0},cloneEvent(t){var e={};for(var s in t)e[s]=t[s];return e},loading(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(t,e){return t&&t.classList[e?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(t,e){"string"==typeof t&&this.DOM.scope.classList.toggle(t,e)},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,s=new CustomEvent("change",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,s.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(s),this.trigger("change",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:{customBinding(){this.customEventsList.forEach((t=>{this.on(t,this.settings.callbacks[t])}))},binding(t=!0){var e,s=this.events.callbacks,i=t?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!t)for(var n in this.state.mainEvents=t,t&&!this.listeners.main&&(this.DOM.input.addEventListener(this.isIE?"keydown":"input",s[this.isIE?"onInputIE":"onInput"].bind(this)),window.addEventListener("keydown",s.onWindowKeyDown.bind(this)),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:["input",s.onFocusBlur.bind(this)],blur:["input",s.onFocusBlur.bind(this)],keydown:["input",s.onKeydown.bind(this)],click:["scope",s.onClickScope.bind(this)],dblclick:["scope",s.onDoubleClickScope.bind(this)],paste:["input",s.onPaste.bind(this)]})("blur"!=n||t)&&this.DOM[e[n][0]][i](n,e[n][1])},callbacks:{onFocusBlur(t){var e=t.target?this.trim(t.target.textContent):"",s=this.settings,i=t.type,n=s.dropdown.enabled>=0,a={relatedTarget:t.relatedTarget},r=this.state.actions.selectOption&&(n||!s.dropdown.closeOnSelect),o=this.state.actions.addNew&&n,l=t.relatedTarget&&t.relatedTarget.classList.contains(s.classNames.tag)&&this.DOM.scope.contains(t.relatedTarget);if("blur"==i){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide.call(this),void this.DOM.input.focus();this.postUpdate(),this.triggerChangeEvent()}if(!r&&!o)if(this.state.hasFocus="focus"==i&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=s.mode){if("focus"==i)return this.trigger("focus",a),void(0===s.dropdown.enabled&&this.dropdown.show.call(this));"blur"==i&&(this.trigger("blur",a),this.loading(!1),"select"==this.settings.mode&&l&&(e=""),("select"==this.settings.mode&&e?!this.value.length||this.value[0].value!=e:e&&!this.state.actions.selectOption&&s.addTagOnBlur)&&this.addTags(e,!0),"select"!=this.settings.mode||e||this.removeTags()),this.DOM.input.removeAttribute("style"),this.dropdown.hide.call(this)}else"focus"==i?this.trigger("focus",a):"blur"==t.type&&(this.trigger("blur",a),this.loading(!1),this.dropdown.hide.call(this),this.state.dropdown.visible=void 0,this.setStateSelection())},onWindowKeyDown(t){var e,s=document.activeElement;if(s.classList.contains(this.settings.classNames.tag)&&this.DOM.scope.contains(document.activeElement))switch(e=s.nextElementSibling,t.key){case"Backspace":this.removeTags(s),(e||this.DOM.input).focus();break;case"Enter":setTimeout(this.editTag.bind(this),0,s)}},onKeydown(t){var e=this.trim(t.target.textContent);if(this.trigger("keydown",{originalEvent:this.cloneEvent(t)}),"mix"==this.settings.mode){switch(t.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var s,i,r,o=document.getSelection(),l="Delete"==t.key&&o.anchorOffset==(o.anchorNode.length||0),h=1==o.anchorNode.nodeType||!o.anchorOffset&&o.anchorNode.previousElementSibling,d=n(this.DOM.input.innerHTML),p=this.getTagElms();if("edit"==this.settings.backspace&&h)return s=1==o.anchorNode.nodeType?null:o.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,s),void t.preventDefault();if(u()&&h)return r=a(h),h.hasAttribute("readonly")||h.remove(),this.DOM.input.focus(),void setTimeout((()=>{this.placeCaretAfterNode(r),this.DOM.input.click()}));if("BR"==o.anchorNode.nodeName)return;if((l||h)&&1==o.anchorNode.nodeType?i=0==o.anchorOffset?l?p[0]:null:p[o.anchorOffset-1]:l?i=o.anchorNode.nextElementSibling:h&&(i=h),3==o.anchorNode.nodeType&&!o.anchorNode.nodeValue&&o.anchorNode.previousElementSibling&&t.preventDefault(),(h||l)&&!this.settings.backspace||"Range"!=o.type&&!o.anchorOffset&&o.anchorNode==this.DOM.input&&"Delete"!=t.key)return void t.preventDefault();if("Range"!=o.type&&i&&i.hasAttribute("readonly"))return void this.placeCaretAfterNode(a(i));clearTimeout(c),c=setTimeout((()=>{var t=document.getSelection(),e=n(this.DOM.input.innerHTML),s=t.anchorNode.previousElementSibling;if(!u()&&e.length>=d.length&&s&&!s.hasAttribute("readonly")&&(this.removeTags(s),this.fixFirefoxLastTagNoCaret(),2==this.DOM.input.children.length&&"BR"==this.DOM.input.children[1].tagName))return this.DOM.input.innerHTML="",this.value.length=0,!0;this.value=[].map.call(p,((t,e)=>{var s=this.tagData(t);if(t.parentNode||s.readonly)return s;this.trigger("remove",{tag:t,index:e,data:s})})).filter((t=>t))}),20)}return!0}switch(t.key){case"Backspace":this.state.dropdown.visible&&"manual"!=this.settings.dropdown.position||""!=e&&8203!=e.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show.call(this);break;case"ArrowRight":{let t=this.state.inputSuggestion||this.state.ddItemData;if(t&&this.settings.autoComplete.rightKey)return void this.addTags([t],!0);break}case"Tab":{let s="select"==this.settings.mode;if(!e||s)return!0;t.preventDefault()}case"Enter":if(this.state.dropdown.visible||229==t.keyCode)return;t.preventDefault(),setTimeout((()=>{this.state.actions.selectOption||this.addTags(e,!0)}))}},onInput(t){if("mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var e=this.input.normalize.call(this),s=e.length>=this.settings.dropdown.enabled,i={value:e,inputElm:this.DOM.input};i.isValid=this.validateTag({value:e}),this.state.inputText!=e&&(this.input.set.call(this,e,!1),-1!=e.search(this.settings.delimiters)?this.addTags(e)&&this.input.set.call(this):this.settings.dropdown.enabled>=0&&this.dropdown[s?"show":"hide"].call(this,e),this.trigger("input",i))},onMixTagsInput(t){var e,s,i,n,a,r,o,l,d=this.settings,c=this.value.length,p=this.getTagElms(),f=document.createDocumentFragment(),g=window.getSelection().getRangeAt(0),m=[].map.call(p,(t=>this.tagData(t).value));if("deleteContentBackward"==t.inputType&&u()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:"Backspace"}),this.value.slice().forEach((t=>{t.readonly&&!m.includes(t.value)&&f.appendChild(this.createTagElem(t))})),f.childNodes.length&&(g.insertNode(f),this.setRangeAtStartEnd(!1,f.lastChild)),p.length!=c)return this.value=[].map.call(this.getTagElms(),(t=>this.tagData(t))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(r=window.getSelection()).rangeCount>0&&3==r.anchorNode.nodeType){if((g=r.getRangeAt(0).cloneRange()).collapse(!0),g.setStart(r.focusNode,0),i=(e=g.toString().slice(0,g.endOffset)).split(d.pattern).length-1,(s=e.match(d.pattern))&&(n=e.slice(e.lastIndexOf(s[s.length-1]))),n){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:n.match(d.pattern)[0],value:n.replace(d.pattern,"")},this.state.tag.baseOffset=r.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide.call(this);a=this.state.tag.value.length>=d.dropdown.enabled;try{o=(o=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&o.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(o||i<this.state.mixMode.matchedPatternCount)&&(a=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=i}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",h({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[a?"show":"hide"].call(this,this.state.tag.value)}),10)},onInputIE(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},onClickScope(t){var e=this.settings,s=t.target.closest("."+e.classNames.tag),i=+new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains(e.classNames.tagX))return s?(this.trigger("click",{tag:s,index:this.getNodeIndex(s),data:this.tagData(s),originalEvent:this.cloneEvent(t)}),void(1!==e.editTags&&1!==e.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&("mix"==e.mode&&this.fixFirefoxLastTagNoCaret(),i>500)?this.state.dropdown.visible?this.dropdown.hide.call(this):0===e.dropdown.enabled&&"mix"!=e.mode&&this.dropdown.show.call(this):"select"!=e.mode||this.state.dropdown.visible||this.dropdown.show.call(this));this.removeTags(t.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste(t){var e,s;t.preventDefault(),this.settings.readonly||(s=(e=t.clipboardData||window.clipboardData).getData("Text"),this.settings.hooks.beforePaste(t,{tagify:this,pastedText:s,clipboardData:e}).then((e=>{void 0===e&&(e=s),e&&(this.injectAtCaret(e,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,t):this.addTags(this.DOM.input.textContent,!0))})).catch((t=>t)))},onEditTagInput(t,e){var s=t.closest("."+this.settings.classNames.tag),i=this.getNodeIndex(s),n=this.tagData(s),a=this.input.normalize.call(this,t),r=s.innerHTML!=s.__tagifyTagData.__originalHTML,o=this.validateTag({[this.settings.tagTextProp]:a});r||!0!==t.originalIsValid||(o=!0),s.classList.toggle(this.settings.classNames.tagInvalid,!0!==o),n.__isValid=o,s.title=!0===o?n.title||n.value:o,a.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=a),this.dropdown.show.call(this,a)),this.trigger("edit:input",{tag:s,index:i,data:h({},this.value[i],{newValue:a}),originalEvent:this.cloneEvent(e)})},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur(t){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e,s=this.settings,i=t.closest("."+s.classNames.tag),n=this.input.normalize.call(this,t),a=this.tagData(i).__originalData,r=i.innerHTML!=i.__tagifyTagData.__originalHTML,o=this.validateTag({[s.tagTextProp]:n});if(n)if(r){if(e=this.getWhitelistItem(n)||h({},a,{[s.tagTextProp]:n,value:n,__isValid:o}),s.transformTag.call(this,e,a),!0!==(o=this.validateTag({[s.tagTextProp]:e[s.tagTextProp]}))){if(this.trigger("invalid",{data:e,tag:i,message:o}),s.editTags.keepInvalid)return;s.keepInvalidTags?e.__isValid=o:e=a}this.onEditTagDone(i,e)}else this.onEditTagDone(i,a);else this.onEditTagDone(i)}},onEditTagkeydown(t,e){switch(this.trigger("edit:keydown",{originalEvent:this.cloneEvent(t)}),t.key){case"Esc":case"Escape":e.innerHTML=e.__tagifyTagData.__originalHTML;case"Enter":case"Tab":t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,s,i=t.target.closest("."+this.settings.classNames.tag),n=this.settings;i&&(e=i.classList.contains(this.settings.classNames.tagEditing),s=i.hasAttribute("readonly"),"select"==n.mode||n.readonly||e||s||!this.settings.editTags||this.editTag(i),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:i,index:this.getNodeIndex(i),data:this.tagData(i)}))}}},fixFirefoxLastTagNoCaret(){},placeCaretAfterNode(t){if(t&&t.parentNode){var e=t.nextSibling,s=window.getSelection(),i=s.getRangeAt(0);s.rangeCount&&(i.setStartBefore(e||t),i.setEndBefore(e||t),s.removeAllRanges(),s.addRange(i))}},insertAfterTag(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e="string"==typeof e?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTag(t,e){t=t||this.getLastTag(),e=e||{},this.dropdown.hide.call(this);var s=this.settings;function i(){return t.querySelector(s.classNames.tagTextSelector)}var n=i(),a=this.getNodeIndex(t),r=this.tagData(t),o=this.events.callbacks,l=this,d=!0;if(n){if(!(r instanceof Object&&"editable"in r)||r.editable)return n.setAttribute("contenteditable",!0),t.classList.add(s.classNames.tagEditing),this.tagData(t,{__originalData:h({},r),__originalHTML:t.innerHTML}),n.addEventListener("focus",o.onEditTagFocus.bind(this,t)),n.addEventListener("blur",(function(){setTimeout((()=>o.onEditTagBlur.call(l,i())))})),n.addEventListener("input",o.onEditTagInput.bind(this,n)),n.addEventListener("keydown",(e=>o.onEditTagkeydown.call(this,e,t))),n.focus(),this.setRangeAtStartEnd(!1,n),e.skipValidation||(d=this.editTagToggleValidity(t,r.value)),n.originalIsValid=d,this.trigger("edit:start",{tag:t,index:a,data:r,isValid:d}),this}else console.warn("Cannot find element in Tag template: .",s.classNames.tagTextSelector)},editTagToggleValidity(t,e){var s,i=this.tagData(t);if(i)return s=!(!i.__isValid||1==i.__isValid),t.classList.toggle(this.settings.classNames.tagInvalid,s),i.__isValid;console.warn("tag has no data: ",t,i)},onEditTagDone(t,e){e=e||{};var s={tag:t=t||this.state.editing.scope,index:this.getNodeIndex(t),previousData:this.tagData(t),data:e};this.trigger("edit:beforeUpdate",s,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&e[this.settings.tagTextProp]?(this.editTagToggleValidity(t),t=this.replaceTag(t,e),this.settings.a11y.focusableTags&&t.focus()):t&&this.removeTags(t),this.trigger("edit:updated",s),this.dropdown.hide.call(this),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&h(e,this.getInvalidTagAttrs(e,e.__isValid));var s=this.createTagElem(e);return t.parentNode.replaceChild(s,t),this.updateValueByDOMTags(),s},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(t=>{t.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(this.tagData(t))})),this.update()},setRangeAtStartEnd(t,e){t="number"==typeof t?t:!!t,e=(e=e||this.DOM.input).lastChild||e;var s=document.getSelection();try{s.rangeCount>=1&&["Start","End"].forEach((i=>s.getRangeAt(0)["set"+i](e,t||e.length)))}catch(t){console.warn("Tagify: ",t)}},injectAtCaret(t,e){if(e=e||this.state.selection.range)return"string"==typeof t&&(t=document.createTextNode(t)),e.deleteContents(),e.insertNode(t),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this},input:{set(t="",e=!0){var s=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=r(""+t)),!t&&s&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},validate(){var t=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize(t){var e=t||this.DOM.input,s=[];e.childNodes.forEach((t=>3==t.nodeType&&s.push(t.nodeValue))),s=s.join("\n");try{s=s.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return s=s.replace(/\s/g," "),this.settings.trim&&(s=s.replace(/^\s+/,"")),s},autocomplete:{suggest(t){if(this.settings.autoComplete.enabled){"string"==typeof(t=t||{})&&(t={value:t});var e=t.value?""+t.value:"",s=e.substr(0,this.state.inputText.length).toLowerCase(),i=e.substring(this.state.inputText.length);e&&this.state.inputText&&s==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",i),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set(t){var e=this.DOM.input.getAttribute("data-suggest"),s=t||(e?this.state.inputText+e:null);return!!s&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+s)):(this.input.set.call(this,s),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide.call(this),!0)}}},getTagIdx(t){return this.value.findIndex((e=>e.__tagId==(t||{}).__tagId))},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(...t){var e="."+[...this.settings.classNames.tag.split(" "),...t].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(e))},getLastTag(){var t=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return t[t.length-1]},tagData:(t,e,s)=>t?(e&&(t.__tagifyTagData=s?e:h({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn("tag elment doesn't exist",t,e),e),isTagDuplicate(t,e){var i=this.settings;return"select"!=i.mode&&this.value.reduce(((n,a)=>s(this.trim(""+t),a.value,e||i.dropdown.caseSensitive)?n+1:n),0)},getTagIndexByValue(t){var e=[];return this.getTagElms().forEach(((i,n)=>{s(this.trim(i.textContent),t,this.settings.dropdown.caseSensitive)&&e.push(n)})),e},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{t.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((e=>(""+e).toLowerCase()==t)).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,i){e=e||"value";var n,a=this.settings;return(i=i||a.whitelist).some((i=>{if(s("string"==typeof i?i:i[e]||i.value,t,a.dropdown.caseSensitive,a.trim))return n="string"==typeof i?{value:i}:i,!0})),n||"value"!=e||"value"==a.tagTextProp||(n=this.getWhitelistItem(t,a.tagTextProp,i)),n},validateTag(t){var e=this.settings,s="value"in t?"value":e.tagTextProp,i=this.trim(t[s]+"");return(t[s]+"").trim()?e.pattern&&e.pattern instanceof RegExp&&!e.pattern.test(i)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(i,this.state.editing)?this.TEXTS.duplicate:this.isTagBlacklisted(i)||e.enforceWhitelist&&!this.isTagWhitelisted(i)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{"aria-invalid":!0,class:`${t.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:e}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(t){var e=this.settings;document.activeElement.blur(),e.readonly=t,this.DOM.scope[(t?"set":"remove")+"Attribute"]("readonly",!0),"mix"==e.mode&&(this.DOM.input.contentEditable=!t)},normalizeTags(t){var e=this.settings,s=e.whitelist,i=e.delimiters,n=e.mode,a=e.tagTextProp;e.enforceWhitelist;var r=[],o=!!s&&s[0]instanceof Object,l=t instanceof Array,h=t=>(t+"").split(i).filter((t=>t)).map((t=>({[a]:this.trim(t),value:this.trim(t)})));if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=h(t)}else l&&(t=[].concat(...t.map((t=>t.value?t:h(t)))));return o&&(t.forEach((t=>{var e=r.map((t=>t.value)),s=this.dropdown.filterListItems.call(this,t[a],{exact:!0}).filter((t=>!e.includes(t.value))),i=s.length>1?this.getWhitelistItem(t[a],a,s):s[0];i&&i instanceof Object?r.push(i):"mix"!=n&&(null==t.value&&(t.value=t[a]),r.push(t))})),t=r),t},parseMixTags(t){var e=this.settings,s=e.mixTagsInterpolator,i=e.duplicates,n=e.transformTag,a=e.enforceWhitelist,r=e.maxTags,o=e.tagTextProp,l=[];return t=t.split(s[0]).map(((t,e)=>{var h,d,c,u=t.split(s[1]),p=u[0],f=l.length==r;try{if(p==+p)throw Error;d=JSON.parse(p)}catch(t){d=this.normalizeTags(p)[0]||{value:p}}if(f||!(u.length>1)||a&&!this.isTagWhitelisted(d.value)||!i&&this.isTagDuplicate(d.value)){if(t)return e?s[0]+t:t}else n.call(this,d),d[h=d[o]?o:"value"]=this.trim(d[h]),c=this.createTagElem(d),l.push(d),c.classList.add(this.settings.classNames.tagNoAnimation),u[0]=c.outerHTML,this.value.push(d);return u.join("")})).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(((t,e)=>this.tagData(t,l[e]))),this.update({withoutChangeEvent:!0}),t},replaceTextWithNode(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var s,i,n=window.getSelection(),a=n.anchorNode,r=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return a.splitText(n.anchorOffset-r),s=a.nodeValue.lastIndexOf(e),i=a.splitText(s),t&&a.parentNode.replaceChild(t,i),!0}},selectTag(t,e){if(!this.settings.enforceWhitelist||this.isTagWhitelisted(e.value))return this.input.set.call(this,e[this.settings.tagTextProp||"value"],!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this)),this.getLastTag()?this.replaceTag(this.getLastTag(),e):this.appendTag(t),this.value[0]=e,this.trigger("add",{tag:t,data:e}),this.update(),[t]},addEmptyTag(t){var e=h({value:""},t||{}),s=this.createTagElem(e);this.tagData(s,e),this.appendTag(s),this.editTag(s,{skipValidation:!0})},addTags(t,e,s=this.settings.skipInvalid){var i=[],n=this.settings,a=document.createDocumentFragment();return t&&0!=t.length?(t=this.normalizeTags(t),"mix"==n.mode?this.addMixTags(t):("select"==n.mode&&(e=!1),this.DOM.input.removeAttribute("style"),t.forEach((t=>{var e,r={},o=Object.assign({},t,{value:t.value+""});if((t=Object.assign({},o)).__isValid=this.hasMaxTags()||this.validateTag(t),n.transformTag.call(this,t),!0!==t.__isValid){if(s)return;h(r,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:o}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value))}if(t.readonly&&(r["aria-readonly"]=!0),e=this.createTagElem(t,r),i.push(e),"select"==n.mode)return this.selectTag(e,t);a.appendChild(e),t.__isValid&&!0===t.__isValid?(this.value.push(t),this.update(),this.trigger("add",{tag:e,index:this.value.length-1,data:t})):(this.trigger("invalid",{data:t,index:this.value.length,tag:e,message:t.__isValid}),n.keepInvalidTags||setTimeout((()=>this.removeTags(e,!0)),1e3)),this.dropdown.position.call(this)})),this.appendTag(a),t.length&&e&&this.input.set.call(this),this.dropdown.refilter.call(this),i)):("select"==n.mode&&this.removeAllTags(),i)},addMixTags(t){if(t[0].prefix||this.state.tag)this.prefixedTextToTag(t[0]);else{"string"==typeof t&&(t=[{value:t}]);var e=!!this.state.selection,s=document.createDocumentFragment();t.forEach((t=>{var e=this.createTagElem(t);s.appendChild(e),this.insertAfterTag(e)})),e?this.injectAtCaret(s):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(s),this.updateValueByDOMTags(),this.update())}},prefixedTextToTag(t){var e,s=this.settings,i=this.state.tag.delimiters;if(s.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(s.pattern.source||s.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),setTimeout((()=>e.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(t),this.update(),!i){var n=this.insertAfterTag(e)||e;this.placeCaretAfterNode(n)}return this.state.tag=null,this.trigger("add",h({},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,s=e.scope.lastElementChild;s===e.input?e.scope.insertBefore(t,s):e.scope.appendChild(t)},createTagElem(s,i){s.__tagId="10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)));var n,a=h({},s,function(s){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?e(Object(n),!0).forEach((function(e){t(s,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(n,t))}))}return s}({value:r(s.value+"")},i));return function(t){for(var e,s=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=s.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}(n=this.parseTemplate("tag",[a])),this.tagData(n,s),n},reCheckInvalidTags(){var t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach(((t,e)=>{var s=this.tagData(t);this.hasMaxTags()||!0!==this.validateTag(s)||(s=s.__preInvalidData?s.__preInvalidData:{value:s.value},this.replaceTag(t,s))}))},removeTags(t,e,s){var i;i=(t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()]).reduce(((t,e)=>(e&&"string"==typeof e&&(e=this.getTagElmByValue(e)),e&&t.push({node:e,idx:this.getTagIdx(this.tagData(e)),data:this.tagData(e,{__removed:!0})}),t)),[]),s="number"==typeof s?s:this.CSSVars.tagHideTransition,"select"==this.settings.mode&&(s=0,this.input.set.call(this)),1==i.length&&i[0].node.classList.contains(this.settings.classNames.tagNotAllowed)&&(e=!0),i.length&&this.settings.hooks.beforeRemoveTag(i,{tagify:this}).then((()=>{function t(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?this.settings.keepInvalidTags&&this.trigger("remove",{tag:t.node,index:t.idx}):(this.trigger("remove",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter.call(this),this.dropdown.position.call(this),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()))}s&&s>10&&1==i.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+"px",document.body.clientTop,e.node.classList.add(this.settings.classNames.tagHide),setTimeout(t.bind(this),s,e)}.call(this,i[0]):i.forEach(t.bind(this)),e||(i.forEach((t=>{var e=Object.assign({},t.data);delete e.__removed;var s=this.getTagIdx(e);s>-1&&this.value.splice(s,1)})),this.update())})).catch((t=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((t=>t.parentNode.removeChild(t)))},removeAllTags(t){t=t||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.position.call(this),"select"==this.settings.mode&&this.input.set.call(this),this.update(t)},postUpdate(){var t=this.settings.classNames,e="mix"==this.settings.mode?this.settings.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value:this.value.length;this.toggleClass(t.hasMaxTags,this.value.length>=this.settings.maxTags),this.toggleClass(t.hasNoTags,!this.value.length),this.toggleClass(t.empty,!e)},update(t){var e=this.DOM.originalInput,s=(t||{}).withoutChangeEvent;this.settings.mixMode.integrated||(e.value=this.getInputValue()),this.postUpdate(),!s&&this.state.loadedOriginalValues&&this.triggerChangeEvent()},getInputValue(){var t=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):""},getCleanValue(t){var e,s;return e=t||this.value,s=this.dataProps,e&&o(e)&&e.map((t=>i(t,s)))},getMixedTagsAsString(){var t="",e=this,s=this.settings.mixTagsInterpolator;return function n(a){a.childNodes.forEach((a=>{if(1==a.nodeType){if(a.classList.contains(e.settings.classNames.tag)&&e.tagData(a)){if(e.tagData(a).__removed)return;return void(t+=s[0]+JSON.stringify(i(e.tagData(a),e.dataProps))+s[1])}"BR"!=a.tagName||a.parentNode!=e.DOM.input&&1!=a.parentNode.childNodes.length?"DIV"!=a.tagName&&"P"!=a.tagName||(t+="\r\n",n(a)):t+="\r\n"}else t+=a.textContent}))}(this.DOM.input),t}},f.prototype.removeTag=f.prototype.removeTags,f}()},482:function(t,e,s){"use strict";s.r(e);var i=s(187),n=s.n(i);s.d(e,"Tagify",(function(){return n.a}))}})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,(function(){"use strict";function t(){return ie.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){return void 0===t}function n(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var s,i=[];for(s=0;s<t.length;++s)i.push(e(t[s],s));return i}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var s in e)o(e,s)&&(t[s]=e[s]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,s,i){return yt(t,e,s,i,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function c(t){if(null==t._isValid){var e=d(t),s=Xt.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function u(t){var e=h(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function p(t,e){var s,n,a;if(i(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),i(e._i)||(t._i=e._i),i(e._f)||(t._f=e._f),i(e._l)||(t._l=e._l),i(e._strict)||(t._strict=e._strict),i(e._tzm)||(t._tzm=e._tzm),i(e._isUTC)||(t._isUTC=e._isUTC),i(e._offset)||(t._offset=e._offset),i(e._pf)||(t._pf=d(e)),i(e._locale)||(t._locale=e._locale),te.length>0)for(s=0;s<te.length;s++)i(a=e[n=te[s]])||(t[n]=a);return t}function f(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ee&&(ee=!0,t.updateOffset(this),ee=!1)}function g(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function v(t){var e=+t,s=0;return 0!==e&&isFinite(e)&&(s=m(e)),s}function y(t,e,s){var i,n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(i=0;i<n;i++)(s&&t[i]!==e[i]||!s&&v(t[i])!==v(e[i]))&&r++;return r+a}function _(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,s){var i=!0;return l((function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var n,a=[],r=0;r<arguments.length;r++){if(n="","object"==typeof arguments[r]){for(var o in n+="\n["+r+"] ",arguments[0])n+=o+": "+arguments[0][o]+", ";n=n.slice(0,-2)}else n=arguments[r];a.push(n)}_(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+Error().stack),i=!1}return s.apply(this,arguments)}),s)}function D(e,s){null!=t.deprecationHandler&&t.deprecationHandler(e,s),se[e]||(_(s),se[e]=!0)}function b(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t,e){var i,n=l({},t);for(i in e)o(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},l(n[i],t[i]),l(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)o(t,i)&&!o(e,i)&&s(t[i])&&(n[i]=l({},n[i]));return n}function x(t){null!=t&&this.set(t)}function T(t,e){var s=t.toLowerCase();ae[s]=ae[s+"s"]=ae[e]=t}function S(t){return"string"==typeof t?ae[t]||ae[t.toLowerCase()]:void 0}function M(t){var e,s,i={};for(s in t)o(t,s)&&(e=S(s))&&(i[e]=t[s]);return i}function O(e,s){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,s),this):C(this,e)}}function C(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function A(t,e,s){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](s)}function E(t,e,s){var i=""+Math.abs(t);return(t>=0?s?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}function Y(t,e,s,i){var n=i;"string"==typeof i&&(n=function(){return this[i]()}),t&&(de[t]=n),e&&(de[e[0]]=function(){return E(n.apply(this,arguments),e[1],e[2])}),s&&(de[s]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t,e){return t.isValid()?(he[e=$(e,t.localeData())]=he[e]||function(t){var e,s,i=t.match(oe);for(e=0,s=i.length;e<s;e++)de[i[e]]?i[e]=de[i[e]]:i[e]=L(i[e]);return function(e){var n,a="";for(n=0;n<s;n++)a+=b(i[n])?i[n].call(e,t):i[n];return a}}(e),he[e](t)):t.localeData().invalidDate()}function $(t,e){function s(t){return e.longDateFormat(t)||t}var i=5;for(le.lastIndex=0;i>=0&&le.test(t);)t=t.replace(le,s),le.lastIndex=0,i-=1;return t}function I(t,e,s){Me[t]=b(e)?e:function(t,i){return t&&s?s:e}}function N(t,e){return o(Me,t)?Me[t](e._strict,e._locale):RegExp(R(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,s,i,n){return e||s||i||n}))))}function R(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t,e){var s,i=e;for("string"==typeof t&&(t=[t]),n(e)&&(i=function(t,s){s[e]=v(t)}),s=0;s<t.length;s++)Oe[t[s]]=i}function H(t,e){j(t,(function(t,s,i,n){i._w=i._w||{},e(t,i._w,i,n)}))}function W(t,e,s){null!=e&&o(Oe,t)&&Oe[t](e,s._a,s,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function U(t,e,s){var i,n,a,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return s?"MMM"===e?-1!==(n=Re.call(this._shortMonthsParse,r))?n:null:-1!==(n=Re.call(this._longMonthsParse,r))?n:null:"MMM"===e?-1!==(n=Re.call(this._shortMonthsParse,r))||-1!==(n=Re.call(this._longMonthsParse,r))?n:null:-1!==(n=Re.call(this._longMonthsParse,r))||-1!==(n=Re.call(this._shortMonthsParse,r))?n:null}function F(t,e){var s;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(!n(e=t.localeData().monthsParse(e)))return t;return s=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,s),t}function q(e){return null!=e?(F(this,e),t.updateOffset(this,!0),this):C(this,"Month")}function B(){function t(t,e){return e.length-t.length}var e,s,i=[],n=[],a=[];for(e=0;e<12;e++)s=h([2e3,e]),i.push(this.monthsShort(s,"")),n.push(this.months(s,"")),a.push(this.months(s,"")),a.push(this.monthsShort(s,""));for(i.sort(t),n.sort(t),a.sort(t),e=0;e<12;e++)i[e]=R(i[e]),n[e]=R(n[e]);for(e=0;e<24;e++)a[e]=R(a[e]);this._monthsRegex=RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=RegExp("^("+i.join("|")+")","i")}function G(t){return z(t)?366:365}function z(t){return t%4==0&&t%100!=0||t%400==0}function Z(t,e,s,i,n,a,r){var o=new Date(t,e,s,i,n,a,r);return t<100&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function K(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function J(t,e,s){var i=7+e-s;return-(7+K(t,0,i).getUTCDay()-e)%7+i-1}function Q(t,e,s,i,n){var a,r,o=1+7*(e-1)+(7+s-i)%7+J(t,i,n);return o<=0?r=G(a=t-1)+o:o>G(t)?(a=t+1,r=o-G(t)):(a=t,r=o),{year:a,dayOfYear:r}}function X(t,e,s){var i,n,a=J(t.year(),e,s),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return r<1?i=r+tt(n=t.year()-1,e,s):r>tt(t.year(),e,s)?(i=r-tt(t.year(),e,s),n=t.year()+1):(n=t.year(),i=r),{week:i,year:n}}function tt(t,e,s){var i=J(t,e,s),n=J(t+1,e,s);return(G(t)-i+n)/7}function et(t,e,s){var i,n,a,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return s?"dddd"===e?-1!==(n=Re.call(this._weekdaysParse,r))?n:null:"ddd"===e?-1!==(n=Re.call(this._shortWeekdaysParse,r))?n:null:-1!==(n=Re.call(this._minWeekdaysParse,r))?n:null:"dddd"===e?-1!==(n=Re.call(this._weekdaysParse,r))||-1!==(n=Re.call(this._shortWeekdaysParse,r))||-1!==(n=Re.call(this._minWeekdaysParse,r))?n:null:"ddd"===e?-1!==(n=Re.call(this._shortWeekdaysParse,r))||-1!==(n=Re.call(this._weekdaysParse,r))||-1!==(n=Re.call(this._minWeekdaysParse,r))?n:null:-1!==(n=Re.call(this._minWeekdaysParse,r))||-1!==(n=Re.call(this._weekdaysParse,r))||-1!==(n=Re.call(this._shortWeekdaysParse,r))?n:null}function st(){function t(t,e){return e.length-t.length}var e,s,i,n,a,r=[],o=[],l=[],d=[];for(e=0;e<7;e++)s=h([2e3,1]).day(e),i=this.weekdaysMin(s,""),n=this.weekdaysShort(s,""),a=this.weekdays(s,""),r.push(i),o.push(n),l.push(a),d.push(i),d.push(n),d.push(a);for(r.sort(t),o.sort(t),l.sort(t),d.sort(t),e=0;e<7;e++)o[e]=R(o[e]),l[e]=R(l[e]),d[e]=R(d[e]);this._weekdaysRegex=RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=RegExp("^("+r.join("|")+")","i")}function it(){return this.hours()%12||12}function nt(t,e){Y(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function at(t,e){return e._meridiemParse}function rt(t){return t?t.toLowerCase().replace("_","-"):t}function ot(t){var e=null;if(!ts[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Je._abbr,require("./locale/"+t),lt(e)}catch(t){}return ts[t]}function lt(t,e){var s;return t&&(s=i(e)?dt(t):ht(t,e))&&(Je=s),Je._abbr}function ht(t,e){if(null!==e){var s=Xe;if(e.abbr=t,null!=ts[t])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=ts[t]._config;else if(null!=e.parentLocale){if(null==ts[e.parentLocale])return es[e.parentLocale]||(es[e.parentLocale]=[]),es[e.parentLocale].push({name:t,config:e}),null;s=ts[e.parentLocale]._config}return ts[t]=new x(k(s,e)),es[t]&&es[t].forEach((function(t){ht(t.name,t.config)})),lt(t),ts[t]}return delete ts[t],null}function dt(t){var s;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Je;if(!e(t)){if(s=ot(t))return s;t=[t]}return function(t){for(var e,s,i,n,a=0;a<t.length;){for(e=(n=rt(t[a]).split("-")).length,s=(s=rt(t[a+1]))?s.split("-"):null;e>0;){if(i=ot(n.slice(0,e).join("-")))return i;if(s&&s.length>=e&&y(n,s,!0)>=e-1)break;e--}a++}return null}(t)}function ct(t){var e,s=t._a;return s&&-2===d(t).overflow&&(e=s[Ae]<0||s[Ae]>11?Ae:s[Ee]<1||s[Ee]>V(s[Ce],s[Ae])?Ee:s[Ye]<0||s[Ye]>24||24===s[Ye]&&(0!==s[Le]||0!==s[Pe]||0!==s[$e])?Ye:s[Le]<0||s[Le]>59?Le:s[Pe]<0||s[Pe]>59?Pe:s[$e]<0||s[$e]>999?$e:-1,d(t)._overflowDayOfYear&&(e<Ce||e>Ee)&&(e=Ee),d(t)._overflowWeeks&&-1===e&&(e=Ie),d(t)._overflowWeekday&&-1===e&&(e=Ne),d(t).overflow=e),t}function ut(t){var e,s,i,n,a,r,o=t._i,l=ss.exec(o)||is.exec(o);if(l){for(d(t).iso=!0,e=0,s=as.length;e<s;e++)if(as[e][1].exec(l[1])){n=as[e][0],i=!1!==as[e][2];break}if(null==n)return void(t._isValid=!1);if(l[3]){for(e=0,s=rs.length;e<s;e++)if(rs[e][1].exec(l[3])){a=(l[2]||" ")+rs[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(l[4]){if(!ns.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=n+(a||"")+(r||""),mt(t)}else t._isValid=!1}function pt(t){var e,s,i,n,a,r,o,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),s=ls.exec(e)){if(i=s[1]?"ddd"+(5===s[1].length?", ":" "):"",n="D MMM "+(s[2].length>10?"YYYY ":"YY "),a="HH:mm"+(s[4]?":ss":""),s[1]){var h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(s[2]).getDay()];if(s[1].substr(0,3)!==h)return d(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(s[5].length){case 2:r=0===o?" +0000":((o="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(s[5][1].toUpperCase())-12)<0?" -":" +")+(""+o).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:r=l[s[5]];break;default:r=l[" GMT"]}s[5]=r,t._i=s.splice(1).join("")," ZZ",t._f=i+n+a+" ZZ",mt(t),d(t).rfc2822=!0}else t._isValid=!1}function ft(t,e,s){return null!=t?t:null!=e?e:s}function gt(e){var s,i,n,a,r,o,l=[];if(!e._d){for(s=e,i=new Date(t.now()),r=s._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()],e._w&&null==e._a[Ee]&&null==e._a[Ae]&&function(t){var e,s,i,n,a,r,o,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)a=1,r=4,s=ft(e.GG,t._a[Ce],X(_t(),1,4).year),i=ft(e.W,1),((n=ft(e.E,1))<1||n>7)&&(l=!0);else{a=t._locale._week.dow,r=t._locale._week.doy;var h=X(_t(),a,r);s=ft(e.gg,t._a[Ce],h.year),i=ft(e.w,h.week),null!=e.d?((n=e.d)<0||n>6)&&(l=!0):null!=e.e?(n=e.e+a,(e.e<0||e.e>6)&&(l=!0)):n=a}i<1||i>tt(s,a,r)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(o=Q(s,i,n,a,r),t._a[Ce]=o.year,t._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(o=ft(e._a[Ce],r[Ce]),(e._dayOfYear>G(o)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),a=K(o,0,e._dayOfYear),e._a[Ae]=a.getUTCMonth(),e._a[Ee]=a.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=l[n]=r[n];for(;n<7;n++)e._a[n]=l[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ye]&&0===e._a[Le]&&0===e._a[Pe]&&0===e._a[$e]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?K:Z).apply(null,l),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24)}}function mt(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],d(e).empty=!0;var s,i,n,a,r,o,l,h,c,u=""+e._i,p=u.length,f=0;for(l=$(e._f,e._locale).match(oe)||[],r=0;r<l.length;r++)h=l[r],(o=(u.match(N(h,e))||[])[0])&&((c=u.substr(0,u.indexOf(o))).length>0&&d(e).unusedInput.push(c),u=u.slice(u.indexOf(o)+o.length),f+=o.length),de[h]?(o?d(e).empty=!1:d(e).unusedTokens.push(h),W(h,o,e)):e._strict&&!o&&d(e).unusedTokens.push(h);d(e).charsLeftOver=p-f,u.length>0&&d(e).unusedInput.push(u),e._a[Ye]<=12&&!0===d(e).bigHour&&e._a[Ye]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[Ye]=(s=e._locale,i=e._a[Ye],null==(n=e._meridiem)?i:null!=s.meridiemHour?s.meridiemHour(i,n):(null!=s.isPM&&((a=s.isPM(n))&&i<12&&(i+=12),a||12!==i||(i=0)),i)),gt(e),ct(e)}else pt(e);else ut(e)}function vt(o){var h,m,v,y,_=o._i,w=o._f;return o._locale=o._locale||dt(o._l),null===_||void 0===w&&""===_?u({nullInput:!0}):("string"==typeof _&&(o._i=_=o._locale.preparse(_)),g(_)?new f(ct(_)):(a(_)?o._d=_:e(w)?function(t){var e,s,i,n,a;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)a=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],mt(e),c(e)&&(a+=d(e).charsLeftOver,a+=10*d(e).unusedTokens.length,d(e).score=a,(null==i||a<i)&&(i=a,s=e));l(t,s||e)}(o):w?mt(o):i(y=(h=o)._i)?h._d=new Date(t.now()):a(y)?h._d=new Date(y.valueOf()):"string"==typeof y?(m=h,null!==(v=os.exec(m._i))?m._d=new Date(+v[1]):(ut(m),!1===m._isValid&&(delete m._isValid,pt(m),!1===m._isValid&&(delete m._isValid,t.createFromInputFallback(m))))):e(y)?(h._a=r(y.slice(0),(function(t){return parseInt(t,10)})),gt(h)):s(y)?function(t){if(!t._d){var e=M(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),gt(t)}}(h):n(y)?h._d=new Date(y):t.createFromInputFallback(h),c(o)||(o._d=null),o))}function yt(t,i,n,a,r){var o,l={};return!0!==n&&!1!==n||(a=n,n=void 0),(s(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=t,l._f=i,l._strict=a,(o=new f(ct(vt(l))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function _t(t,e,s,i){return yt(t,e,s,i,!1)}function wt(t,s){var i,n;if(1===s.length&&e(s[0])&&(s=s[0]),!s.length)return _t();for(i=s[0],n=1;n<s.length;++n)s[n].isValid()&&!s[n][t](i)||(i=s[n]);return i}function Dt(t){var e=M(t),s=e.year||0,i=e.quarter||0,n=e.month||0,a=e.week||0,r=e.day||0,o=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===cs.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var s=!1,i=0;i<cs.length;++i)if(t[cs[i]]){if(s)return!1;parseFloat(t[cs[i]])!==v(t[cs[i]])&&(s=!0)}return!0}(e),this._milliseconds=+d+1e3*h+6e4*l+1e3*o*3600,this._days=+r+7*a,this._months=+n+3*i+12*s,this._data={},this._locale=dt(),this._bubble()}function bt(t){return t instanceof Dt}function kt(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function xt(t,e){Y(t,0,0,(function(){var t=this.utcOffset(),s="+";return t<0&&(t=-t,s="-"),s+E(~~(t/60),2)+e+E(~~t%60,2)}))}function Tt(t,e){var s=(e||"").match(t);if(null===s)return null;var i=((s[s.length-1]||[])+"").match(us)||["-",0,0],n=60*i[1]+v(i[2]);return 0===n?0:"+"===i[0]?n:-n}function St(e,s){var i,n;return s._isUTC?(i=s.clone(),n=(g(e)||a(e)?e.valueOf():_t(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),t.updateOffset(i,!1),i):_t(e).local()}function Mt(t){return-15*Math.round(t._d.getTimezoneOffset()/15)}function Ot(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ct(t,e){var s,i,a,r,l,h,d=t,c=null;return bt(t)?d={ms:t._milliseconds,d:t._days,M:t._months}:n(t)?(d={},e?d[e]=t:d.milliseconds=t):(c=ps.exec(t))?(s="-"===c[1]?-1:1,d={y:0,d:v(c[Ee])*s,h:v(c[Ye])*s,m:v(c[Le])*s,s:v(c[Pe])*s,ms:v(kt(1e3*c[$e]))*s}):(c=fs.exec(t))?(s="-"===c[1]?-1:1,d={y:At(c[2],s),M:At(c[3],s),w:At(c[4],s),d:At(c[5],s),h:At(c[6],s),m:At(c[7],s),s:At(c[8],s)}):null==d?d={}:"object"==typeof d&&("from"in d||"to"in d)&&(r=_t(d.from),l=_t(d.to),a=r.isValid()&&l.isValid()?(l=St(l,r),r.isBefore(l)?h=Et(r,l):((h=Et(l,r)).milliseconds=-h.milliseconds,h.months=-h.months),h):{milliseconds:0,months:0},(d={}).ms=a.milliseconds,d.M=a.months),i=new Dt(d),bt(t)&&o(t,"_locale")&&(i._locale=t._locale),i}function At(t,e){var s=t&&parseFloat(t.replace(",","."));return(isNaN(s)?0:s)*e}function Et(t,e){var s={milliseconds:0,months:0};return s.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function Yt(t,e){return function(s,i){var n;return null===i||isNaN(+i)||(D(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=s,s=i,i=n),Lt(this,Ct(s="string"==typeof s?+s:s,i),t),this}}function Lt(e,s,i,n){var a=s._milliseconds,r=kt(s._days),o=kt(s._months);e.isValid()&&(n=null==n||n,a&&e._d.setTime(e._d.valueOf()+a*i),r&&A(e,"Date",C(e,"Date")+r*i),o&&F(e,C(e,"Month")+o*i),n&&t.updateOffset(e,r||o))}function Pt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=dt(t))&&(this._locale=e),this)}function $t(){return this._locale}function It(t,e){Y(0,[t,t.length],0,e)}function Nt(t,e,s,i,n){var a;return null==t?X(this,i,n).year:(e>(a=tt(t,i,n))&&(e=a),Rt.call(this,t,e,s,i,n))}function Rt(t,e,s,i,n){var a=Q(t,e,s,i,n),r=K(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function jt(t,e){e[$e]=v(1e3*("0."+t))}function Ht(t){return t}function Wt(t,e,s,i){var n=dt(),a=h().set(i,e);return n[s](a,t)}function Vt(t,e,s){if(n(t)&&(e=t,t=void 0),t=t||"",null!=e)return Wt(t,e,s,"month");var i,a=[];for(i=0;i<12;i++)a[i]=Wt(t,i,s,"month");return a}function Ut(t,e,s,i){"boolean"==typeof t?(n(e)&&(s=e,e=void 0),e=e||""):(s=e=t,t=!1,n(e)&&(s=e,e=void 0),e=e||"");var a=dt(),r=t?a._week.dow:0;if(null!=s)return Wt(e,(s+r)%7,i,"day");var o,l=[];for(o=0;o<7;o++)l[o]=Wt(e,(o+r)%7,i,"day");return l}function Ft(t,e,s,i){var n=Ct(e,s);return t._milliseconds+=i*n._milliseconds,t._days+=i*n._days,t._months+=i*n._months,t._bubble()}function qt(t){return t<0?Math.floor(t):Math.ceil(t)}function Bt(t){return 4800*t/146097}function Gt(t){return 146097*t/4800}function zt(t){return function(){return this.as(t)}}function Zt(t){return function(){return this.isValid()?this._data[t]:NaN}}function Kt(t,e,s,i,n){return n.relativeTime(e||1,!!s,t,i)}function Jt(){if(!this.isValid())return this.localeData().invalidDate();var t,e,s=Vs(this._milliseconds)/1e3,i=Vs(this._days),n=Vs(this._months);t=m(s/60),e=m(t/60),s%=60,t%=60;var a=m(n/12),r=n%=12,o=i,l=e,h=t,d=s,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(o?o+"D":"")+(l||h||d?"T":"")+(l?l+"H":"")+(h?h+"M":"")+(d?d+"S":""):"P0D"}var Qt,Xt=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),s=e.length>>>0,i=0;i<s;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},te=t.momentProperties=[],ee=!1,se={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var ie,ne=Object.keys?Object.keys:function(t){var e,s=[];for(e in t)o(t,e)&&s.push(e);return s},ae={},re={},oe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,he={},de={},ce=/\d/,ue=/\d\d/,pe=/\d{3}/,fe=/\d{4}/,ge=/[+-]?\d{6}/,me=/\d\d?/,ve=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,_e=/\d{1,3}/,we=/\d{1,4}/,De=/[+-]?\d{1,6}/,be=/\d+/,ke=/[+-]?\d+/,xe=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,Se=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Me={},Oe={},Ce=0,Ae=1,Ee=2,Ye=3,Le=4,Pe=5,$e=6,Ie=7,Ne=8,Re=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};Y("M",["MM",2],"Mo",(function(){return this.month()+1})),Y("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),Y("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),T("month","M"),re.month=8,I("M",me),I("MM",me,ue),I("MMM",(function(t,e){return e.monthsShortRegex(t)})),I("MMMM",(function(t,e){return e.monthsRegex(t)})),j(["M","MM"],(function(t,e){e[Ae]=v(t)-1})),j(["MMM","MMMM"],(function(t,e,s,i){var n=s._locale.monthsParse(t,i,s._strict);null!=n?e[Ae]=n:d(s).invalidMonth=t}));var je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,He="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),We="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ve=Se,Ue=Se;Y("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),Y(0,["YY",2],0,(function(){return this.year()%100})),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),T("year","y"),re.year=1,I("Y",ke),I("YY",me,ue),I("YYYY",we,fe),I("YYYYY",De,ge),I("YYYYYY",De,ge),j(["YYYYY","YYYYYY"],Ce),j("YYYY",(function(e,s){s[Ce]=2===e.length?t.parseTwoDigitYear(e):v(e)})),j("YY",(function(e,s){s[Ce]=t.parseTwoDigitYear(e)})),j("Y",(function(t,e){e[Ce]=parseInt(t,10)})),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Fe=O("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),re.week=5,re.isoWeek=5,I("w",me),I("ww",me,ue),I("W",me),I("WW",me,ue),H(["w","ww","W","WW"],(function(t,e,s,i){e[i.substr(0,1)]=v(t)})),Y("d",0,"do","day"),Y("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),Y("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),Y("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),re.day=11,re.weekday=11,re.isoWeekday=11,I("d",me),I("e",me),I("E",me),I("dd",(function(t,e){return e.weekdaysMinRegex(t)})),I("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),I("dddd",(function(t,e){return e.weekdaysRegex(t)})),H(["dd","ddd","dddd"],(function(t,e,s,i){var n=s._locale.weekdaysParse(t,i,s._strict);null!=n?e.d=n:d(s).invalidWeekday=t})),H(["d","e","E"],(function(t,e,s,i){e[i]=v(t)}));var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ze=Se,Ze=Se,Ke=Se;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,it),Y("k",["kk",2],0,(function(){return this.hours()||24})),Y("hmm",0,0,(function(){return""+it.apply(this)+E(this.minutes(),2)})),Y("hmmss",0,0,(function(){return""+it.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)})),Y("Hmm",0,0,(function(){return""+this.hours()+E(this.minutes(),2)})),Y("Hmmss",0,0,(function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)})),nt("a",!0),nt("A",!1),T("hour","h"),re.hour=13,I("a",at),I("A",at),I("H",me),I("h",me),I("k",me),I("HH",me,ue),I("hh",me,ue),I("kk",me,ue),I("hmm",ve),I("hmmss",ye),I("Hmm",ve),I("Hmmss",ye),j(["H","HH"],Ye),j(["k","kk"],(function(t,e,s){var i=v(t);e[Ye]=24===i?0:i})),j(["a","A"],(function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t})),j(["h","hh"],(function(t,e,s){e[Ye]=v(t),d(s).bigHour=!0})),j("hmm",(function(t,e,s){var i=t.length-2;e[Ye]=v(t.substr(0,i)),e[Le]=v(t.substr(i)),d(s).bigHour=!0})),j("hmmss",(function(t,e,s){var i=t.length-4,n=t.length-2;e[Ye]=v(t.substr(0,i)),e[Le]=v(t.substr(i,2)),e[Pe]=v(t.substr(n)),d(s).bigHour=!0})),j("Hmm",(function(t,e,s){var i=t.length-2;e[Ye]=v(t.substr(0,i)),e[Le]=v(t.substr(i))})),j("Hmmss",(function(t,e,s){var i=t.length-4,n=t.length-2;e[Ye]=v(t.substr(0,i)),e[Le]=v(t.substr(i,2)),e[Pe]=v(t.substr(n))}));var Je,Qe=O("Hours",!0),Xe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:He,monthsShort:We,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:Ge,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},ts={},es={},ss=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,is=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ns=/Z|[+-]\d\d(?::?\d\d)?/,as=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],rs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],os=/^\/?Date\((\-?\d+)/i,ls=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),t.ISO_8601=function(){},t.RFC_2822=function(){};var hs=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_t.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:u()})),ds=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_t.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:u()})),cs=["year","quarter","month","week","day","hour","minute","second","millisecond"];xt("Z",":"),xt("ZZ",""),I("Z",Te),I("ZZ",Te),j(["Z","ZZ"],(function(t,e,s){s._useUTC=!0,s._tzm=Tt(Te,t)}));var us=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ps=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,fs=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ct.fn=Dt.prototype,Ct.invalid=function(){return Ct(NaN)};var gs=Yt(1,"add"),ms=Yt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vs=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));Y(0,["gg",2],0,(function(){return this.weekYear()%100})),Y(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),It("gggg","weekYear"),It("ggggg","weekYear"),It("GGGG","isoWeekYear"),It("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),re.weekYear=1,re.isoWeekYear=1,I("G",ke),I("g",ke),I("GG",me,ue),I("gg",me,ue),I("GGGG",we,fe),I("gggg",we,fe),I("GGGGG",De,ge),I("ggggg",De,ge),H(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,s,i){e[i.substr(0,2)]=v(t)})),H(["gg","GG"],(function(e,s,i,n){s[n]=t.parseTwoDigitYear(e)})),Y("Q",0,"Qo","quarter"),T("quarter","Q"),re.quarter=7,I("Q",ce),j("Q",(function(t,e){e[Ae]=3*(v(t)-1)})),Y("D",["DD",2],"Do","date"),T("date","D"),re.date=9,I("D",me),I("DD",me,ue),I("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),j(["D","DD"],Ee),j("Do",(function(t,e){e[Ee]=v(t.match(me)[0])}));var ys=O("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),re.dayOfYear=4,I("DDD",_e),I("DDDD",pe),j(["DDD","DDDD"],(function(t,e,s){s._dayOfYear=v(t)})),Y("m",["mm",2],0,"minute"),T("minute","m"),re.minute=14,I("m",me),I("mm",me,ue),j(["m","mm"],Le);var _s=O("Minutes",!1);Y("s",["ss",2],0,"second"),T("second","s"),re.second=15,I("s",me),I("ss",me,ue),j(["s","ss"],Pe);var ws=O("Seconds",!1);for(Y("S",0,0,(function(){return~~(this.millisecond()/100)})),Y(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Y(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Y(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Y(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Y(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Y(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),T("millisecond","ms"),re.millisecond=16,I("S",_e,ce),I("SS",_e,ue),I("SSS",_e,pe),Qt="SSSS";Qt.length<=9;Qt+="S")I(Qt,be);for(Qt="S";Qt.length<=9;Qt+="S")j(Qt,jt);var Ds=O("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var bs=f.prototype;bs.add=gs,bs.calendar=function(e,s){var i=e||_t(),n=St(i,this).startOf("day"),a=t.calendarFormat(this,n)||"sameElse",r=s&&(b(s[a])?s[a].call(this,i):s[a]);return this.format(r||this.localeData().calendar(a,this,_t(i)))},bs.clone=function(){return new f(this)},bs.diff=function(t,e,s){var i,n,a,r,o,l,h,d;return this.isValid()&&(i=St(t,this)).isValid()?(n=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=S(e))||"month"===e||"quarter"===e?(o=this,r=-((h=12*((l=i).year()-o.year())+(l.month()-o.month()))+(l-(d=o.clone().add(h,"months"))<0?(l-d)/(d-o.clone().add(h-1,"months")):(l-d)/(o.clone().add(h+1,"months")-d)))||0,"quarter"===e?r/=3:"year"===e&&(r/=12)):(a=this-i,r="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-n)/864e5:"week"===e?(a-n)/6048e5:a),s?r:m(r)):NaN},bs.endOf=function(t){return void 0===(t=S(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},bs.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var s=P(this,e);return this.localeData().postformat(s)},bs.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||_t(t).isValid())?Ct({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},bs.fromNow=function(t){return this.from(_t(),t)},bs.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||_t(t).isValid())?Ct({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},bs.toNow=function(t){return this.to(_t(),t)},bs.get=function(t){return b(this[t=S(t)])?this[t]():this},bs.invalidAt=function(){return d(this).overflow},bs.isAfter=function(t,e){var s=g(t)?t:_t(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=S(i(e)?"millisecond":e))?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf())},bs.isBefore=function(t,e){var s=g(t)?t:_t(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=S(i(e)?"millisecond":e))?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf())},bs.isBetween=function(t,e,s,i){return("("===(i=i||"()")[0]?this.isAfter(t,s):!this.isBefore(t,s))&&(")"===i[1]?this.isBefore(e,s):!this.isAfter(e,s))},bs.isSame=function(t,e){var s,i=g(t)?t:_t(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=S(e||"millisecond"))?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf()))},bs.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},bs.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},bs.isValid=function(){return c(this)},bs.lang=vs,bs.locale=Pt,bs.localeData=$t,bs.max=ds,bs.min=hs,bs.parsingFlags=function(){return l({},d(this))},bs.set=function(t,e){if("object"==typeof t)for(var s=function(t){var e=[];for(var s in t)e.push({unit:s,priority:re[s]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=M(t)),i=0;i<s.length;i++)this[s[i].unit](t[s[i].unit]);else if(b(this[t=S(t)]))return this[t](e);return this},bs.startOf=function(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},bs.subtract=ms,bs.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},bs.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},bs.toDate=function(){return new Date(this.valueOf())},bs.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return 0>t.year()||t.year()>9999?P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):b(Date.prototype.toISOString)?this.toDate().toISOString():P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},bs.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var s="["+t+'("]',i=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",n=e+'[")]';return this.format(s+i+"-MM-DD[T]HH:mm:ss.SSS"+n)},bs.toJSON=function(){return this.isValid()?this.toISOString():null},bs.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bs.unix=function(){return Math.floor(this.valueOf()/1e3)},bs.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bs.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bs.year=Fe,bs.isLeapYear=function(){return z(this.year())},bs.weekYear=function(t){return Nt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bs.isoWeekYear=function(t){return Nt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},bs.quarter=bs.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},bs.month=q,bs.daysInMonth=function(){return V(this.year(),this.month())},bs.week=bs.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},bs.isoWeek=bs.isoWeeks=function(t){var e=X(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},bs.weeksInYear=function(){var t=this.localeData()._week;return tt(this.year(),t.dow,t.doy)},bs.isoWeeksInYear=function(){return tt(this.year(),1,4)},bs.date=ys,bs.day=bs.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,s,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,s=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=s.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},bs.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},bs.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e,s,i=(e=t,s=this.localeData(),"string"==typeof e?s.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?i:i-7)}return this.day()||7},bs.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},bs.hour=bs.hours=Qe,bs.minute=bs.minutes=_s,bs.second=bs.seconds=ws,bs.millisecond=bs.milliseconds=Ds,bs.utcOffset=function(e,s,i){var n,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Tt(Te,e)))return this}else 16>Math.abs(e)&&!i&&(e*=60);return!this._isUTC&&s&&(n=Mt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==e&&(!s||this._changeInProgress?Lt(this,Ct(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Mt(this)},bs.utc=function(t){return this.utcOffset(0,t)},bs.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Mt(this),"m")),this},bs.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Tt(xe,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},bs.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?_t(t).utcOffset():0,(this.utcOffset()-t)%60==0)},bs.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bs.isLocal=function(){return!!this.isValid()&&!this._isUTC},bs.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bs.isUtc=Ot,bs.isUTC=Ot,bs.zoneAbbr=function(){return this._isUTC?"UTC":""},bs.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bs.dates=w("dates accessor is deprecated. Use date instead.",ys),bs.months=w("months accessor is deprecated. Use month instead",q),bs.years=w("years accessor is deprecated. Use year instead",Fe),bs.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),bs.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),(t=vt(t))._a){var e=t._isUTC?h(t._a):_t(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var ks=x.prototype;ks.calendar=function(t,e,s){var i=this._calendar[t]||this._calendar.sameElse;return b(i)?i.call(e,s):i},ks.longDateFormat=function(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},ks.invalidDate=function(){return this._invalidDate},ks.ordinal=function(t){return this._ordinal.replace("%d",t)},ks.preparse=Ht,ks.postformat=Ht,ks.relativeTime=function(t,e,s,i){var n=this._relativeTime[s];return b(n)?n(t,e,s,i):n.replace(/%d/i,t)},ks.pastFuture=function(t,e){var s=this._relativeTime[t>0?"future":"past"];return b(s)?s(e):s.replace(/%s/i,e)},ks.set=function(t){var e,s;for(s in t)b(e=t[s])?this[s]=e:this["_"+s]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ks.months=function(t,s){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||je).test(s)?"format":"standalone"][t.month()]:e(this._months)?this._months:this._months.standalone},ks.monthsShort=function(t,s){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[je.test(s)?"format":"standalone"][t.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ks.monthsParse=function(t,e,s){var i,n,a;if(this._monthsParseExact)return U.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++)if(n=h([2e3,i]),s&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),s||this._monthsParse[i]||(a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=RegExp(a.replace(".",""),"i")),s&&"MMMM"===e&&this._longMonthsParse[i].test(t)||s&&"MMM"===e&&this._shortMonthsParse[i].test(t)||!s&&this._monthsParse[i].test(t))return i},ks.monthsRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||B.call(this),t?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ks.monthsShortRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||B.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Ve),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ks.week=function(t){return X(t,this._week.dow,this._week.doy).week},ks.firstDayOfYear=function(){return this._week.doy},ks.firstDayOfWeek=function(){return this._week.dow},ks.weekdays=function(t,s){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(s)?"format":"standalone"][t.day()]:e(this._weekdays)?this._weekdays:this._weekdays.standalone},ks.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ks.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ks.weekdaysParse=function(t,e,s){var i,n,a;if(this._weekdaysParseExact)return et.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++)if(n=h([2e3,1]).day(i),s&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=RegExp(a.replace(".",""),"i")),s&&"dddd"===e&&this._fullWeekdaysParse[i].test(t)||s&&"ddd"===e&&this._shortWeekdaysParse[i].test(t)||s&&"dd"===e&&this._minWeekdaysParse[i].test(t)||!s&&this._weekdaysParse[i].test(t))return i},ks.weekdaysRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||st.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ks.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||st.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ks.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||st.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ke),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ks.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ks.meridiem=function(t,e,s){return t>11?s?"pm":"PM":s?"am":"AM"},lt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",lt),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",dt);var xs=Math.abs,Ts=zt("ms"),Ss=zt("s"),Ms=zt("m"),Os=zt("h"),Cs=zt("d"),As=zt("w"),Es=zt("M"),Ys=zt("y"),Ls=Zt("milliseconds"),Ps=Zt("seconds"),$s=Zt("minutes"),Is=Zt("hours"),Ns=Zt("days"),Rs=Zt("months"),js=Zt("years"),Hs=Math.round,Ws={ss:44,s:45,m:45,h:22,d:26,M:11},Vs=Math.abs,Us=Dt.prototype;return Us.isValid=function(){return this._isValid},Us.abs=function(){var t=this._data;return this._milliseconds=xs(this._milliseconds),this._days=xs(this._days),this._months=xs(this._months),t.milliseconds=xs(t.milliseconds),t.seconds=xs(t.seconds),t.minutes=xs(t.minutes),t.hours=xs(t.hours),t.months=xs(t.months),t.years=xs(t.years),this},Us.add=function(t,e){return Ft(this,t,e,1)},Us.subtract=function(t,e){return Ft(this,t,e,-1)},Us.as=function(t){if(!this.isValid())return NaN;var e,s,i=this._milliseconds;if("month"===(t=S(t))||"year"===t)return e=this._days+i/864e5,s=this._months+Bt(e),"month"===t?s:s/12;switch(e=this._days+Math.round(Gt(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw Error("Unknown unit "+t)}},Us.asMilliseconds=Ts,Us.asSeconds=Ss,Us.asMinutes=Ms,Us.asHours=Os,Us.asDays=Cs,Us.asWeeks=As,Us.asMonths=Es,Us.asYears=Ys,Us.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN},Us._bubble=function(){var t,e,s,i,n,a=this._milliseconds,r=this._days,o=this._months,l=this._data;return a>=0&&r>=0&&o>=0||a<=0&&r<=0&&o<=0||(a+=864e5*qt(Gt(o)+r),r=0,o=0),l.milliseconds=a%1e3,t=m(a/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,s=m(e/60),l.hours=s%24,r+=m(s/24),o+=n=m(Bt(r)),r-=qt(Gt(n)),i=m(o/12),o%=12,l.days=r,l.months=o,l.years=i,this},Us.get=function(t){return t=S(t),this.isValid()?this[t+"s"]():NaN},Us.milliseconds=Ls,Us.seconds=Ps,Us.minutes=$s,Us.hours=Is,Us.days=Ns,Us.weeks=function(){return m(this.days()/7)},Us.months=Rs,Us.years=js,Us.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,s,i,n,a,r,o,l,h,d,c=this.localeData(),u=(this,e=!t,s=c,i=Ct(this).abs(),n=Hs(i.as("s")),a=Hs(i.as("m")),r=Hs(i.as("h")),o=Hs(i.as("d")),l=Hs(i.as("M")),h=Hs(i.as("y")),(d=n<=Ws.ss&&["s",n]||n<Ws.s&&["ss",n]||a<=1&&["m"]||a<Ws.m&&["mm",a]||r<=1&&["h"]||r<Ws.h&&["hh",r]||o<=1&&["d"]||o<Ws.d&&["dd",o]||l<=1&&["M"]||l<Ws.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=e,d[3]=+this>0,d[4]=s,Kt.apply(null,d));return t&&(u=c.pastFuture(+this,u)),c.postformat(u)},Us.toISOString=Jt,Us.toString=Jt,Us.toJSON=Jt,Us.locale=Pt,Us.localeData=$t,Us.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jt),Us.lang=vs,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),I("x",ke),I("X",/[+-]?\d+(\.\d{1,3})?/),j("X",(function(t,e,s){s._d=new Date(1e3*parseFloat(t,10))})),j("x",(function(t,e,s){s._d=new Date(v(t))})),t.version="2.18.1",ie=_t,t.fn=bs,t.min=function(){return wt("isBefore",[].slice.call(arguments,0))},t.max=function(){return wt("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=h,t.unix=function(t){return _t(1e3*t)},t.months=function(t,e){return Vt(t,e,"months")},t.isDate=a,t.locale=lt,t.invalid=u,t.duration=Ct,t.isMoment=g,t.weekdays=function(t,e,s){return Ut(t,e,s,"weekdays")},t.parseZone=function(){return _t.apply(null,arguments).parseZone()},t.localeData=dt,t.isDuration=bt,t.monthsShort=function(t,e){return Vt(t,e,"monthsShort")},t.weekdaysMin=function(t,e,s){return Ut(t,e,s,"weekdaysMin")},t.defineLocale=ht,t.updateLocale=function(t,e){if(null!=e){var s,i=Xe;null!=ts[t]&&(i=ts[t]._config),(s=new x(e=k(i,e))).parentLocale=ts[t],ts[t]=s,lt(t)}else null!=ts[t]&&(null!=ts[t].parentLocale?ts[t]=ts[t].parentLocale:null!=ts[t]&&delete ts[t]);return ts[t]},t.locales=function(){return ne(ts)},t.weekdaysShort=function(t,e,s){return Ut(t,e,s,"weekdaysShort")},t.normalizeUnits=S,t.relativeTimeRounding=function(t){return void 0===t?Hs:"function"==typeof t&&(Hs=t,!0)},t.relativeTimeThreshold=function(t,e){return void 0!==Ws[t]&&(void 0===e?Ws[t]:(Ws[t]=e,"s"===t&&(Ws.ss=e-1),!0))},t.calendarFormat=function(t,e){var s=t.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"},t.prototype=bs,t})),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],(function(t,s){return s.fn||(s.fn={}),"function"!=typeof t&&t.hasOwnProperty("default")&&(t=t.default),e(t,s)}));else if("object"==typeof module&&module.exports){var s="undefined"!=typeof window?window.jQuery:void 0;s||(s=require("jquery")).fn||(s.fn={});var i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=e(i,s)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,(function(t,e){var s=function(s,i,n){if(this.parentEl="body",this.element=e(s),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=t().subtract(100,"year").format("YYYY"),this.maxYear=t().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=e.extend(this.element.data(),i)).template||i.template instanceof e||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&e(i.parentEl).length?e(i.parentEl):e(this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(u=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var a=u.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;if(void 0===i.startDate&&void 0===i.endDate&&e(this.element).is(":text")){var o=e(this.element).val(),l=o.split(this.locale.separator);h=d=null,2==l.length?(h=t(l[0],this.locale.format),d=t(l[1],this.locale.format)):this.singleDatePicker&&""!==o&&(h=t(o,this.locale.format),d=t(o,this.locale.format)),null!==h&&null!==d&&(this.setStartDate(h),this.setEndDate(d))}if("object"==typeof i.ranges){for(c in i.ranges){h="string"==typeof i.ranges[c][0]?t(i.ranges[c][0],this.locale.format):t(i.ranges[c][0]),d="string"==typeof i.ranges[c][1]?t(i.ranges[c][1],this.locale.format):t(i.ranges[c][1]),this.minDate&&h.isBefore(this.minDate)&&(h=this.minDate.clone());var h,d,c,u,p=this.maxDate;this.maxSpan&&p&&h.clone().add(this.maxSpan).isAfter(p)&&(p=h.clone().add(this.maxSpan)),p&&d.isAfter(p)&&(d=p.clone()),this.minDate&&d.isBefore(this.minDate,this.timepicker?"minute":"day")||p&&h.isAfter(p,this.timepicker?"minute":"day")||((u=document.createElement("textarea")).innerHTML=c,a=u.value,this.ranges[a]=[h,d])}var f="<ul>";for(c in this.ranges)f+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",e.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.updateElement()};return s.prototype={constructor:s,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,s,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),isNaN(e=parseInt(this.container.find(".left .minuteselect").val(),10))&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),s=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"!==i||12!==t||(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),isNaN(e=parseInt(this.container.find(".right .minuteselect").val(),10))&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),s=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"!==i||12!==t||(t=0))),this.leftCalendar.month.hour(t).minute(e).second(s),this.rightCalendar.month.hour(t).minute(e).second(s));this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(s){var i,n=(i="left"==s?this.leftCalendar:this.rightCalendar).month.month(),a=i.month.year(),r=i.month.hour(),o=i.month.minute(),l=i.month.second(),h=t([a,n]).daysInMonth(),d=t([a,n,1]),c=t([a,n,h]),u=t(d).subtract(1,"month").month(),p=t(d).subtract(1,"month").year(),f=t([p,u]).daysInMonth(),g=d.day();(i=[]).firstDay=d,i.lastDay=c;for(var m=0;m<6;m++)i[m]=[];var v=f-g+this.locale.firstDay+1;v>f&&(v-=7),g==this.locale.firstDay&&(v=f-6);for(var y=t([p,u,v,12,o,l]),_=(m=0,0),w=0;m<42;m++,_++,y=t(y).add(24,"hour"))m>0&&_%7==0&&(_=0,w++),i[w][_]=y.clone().hour(r).minute(o).second(l),y.hour(12),this.minDate&&i[w][_].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[w][_].isBefore(this.minDate)&&"left"==s&&(i[w][_]=this.minDate.clone()),this.maxDate&&i[w][_].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[w][_].isAfter(this.maxDate)&&"right"==s&&(i[w][_]=this.maxDate.clone());"left"==s?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var D="left"==s?this.minDate:this.startDate,b=this.maxDate,k=("left"==s?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');k+="<thead>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+="<th></th>"),D&&!D.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=s?k+="<th></th>":k+='<th class="prev available"><span></span></th>';var x=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var T=i[1][1].month(),S=i[1][1].year(),M=b&&b.year()||this.maxYear,O=D&&D.year()||this.minYear,C=S==O,A=S==M,E='<select class="monthselect">',Y=0;Y<12;Y++)(!C||D&&Y>=D.month())&&(!A||b&&Y<=b.month())?E+="<option value='"+Y+"'"+(Y===T?" selected='selected'":"")+">"+this.locale.monthNames[Y]+"</option>":E+="<option value='"+Y+"'"+(Y===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[Y]+"</option>";E+="</select>";for(var L='<select class="yearselect">',P=O;P<=M;P++)L+='<option value="'+P+'"'+(P===S?' selected="selected"':"")+">"+P+"</option>";x=E+(L+="</select>")}if(k+='<th colspan="5" class="month">'+x+"</th>",b&&!b.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=s&&!this.singleDatePicker?k+="<th></th>":k+='<th class="next available"><span></span></th>',k+="</tr>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,(function(t,e){k+="<th>"+e+"</th>"})),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.maxSpan){var $=this.startDate.clone().add(this.maxSpan).endOf("day");b&&!$.isBefore(b)||(b=$)}for(w=0;w<6;w++){for(k+="<tr>",this.showWeekNumbers?k+='<td class="week">'+i[w][0].week()+"</td>":this.showISOWeekNumbers&&(k+='<td class="week">'+i[w][0].isoWeek()+"</td>"),_=0;_<7;_++){var I=[];i[w][_].isSame(new Date,"day")&&I.push("today"),i[w][_].isoWeekday()>5&&I.push("weekend"),i[w][_].month()!=i[1][1].month()&&I.push("off","ends"),this.minDate&&i[w][_].isBefore(this.minDate,"day")&&I.push("off","disabled"),b&&i[w][_].isAfter(b,"day")&&I.push("off","disabled"),this.isInvalidDate(i[w][_])&&I.push("off","disabled"),i[w][_].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&I.push("active","start-date"),null!=this.endDate&&i[w][_].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&I.push("active","end-date"),null!=this.endDate&&i[w][_]>this.startDate&&i[w][_]<this.endDate&&I.push("in-range");var N=this.isCustomDate(i[w][_]);!1!==N&&("string"==typeof N?I.push(N):Array.prototype.push.apply(I,N));var R="",j=!1;for(m=0;m<I.length;m++)R+=I[m]+" ","disabled"==I[m]&&(j=!0);j||(R+="available"),k+='<td class="'+R.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+_+'">'+i[w][_].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".drp-calendar."+s+" .calendar-table").html(k)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,s,i,n=this.maxDate;if(this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(n=this.startDate.clone().add(this.maxSpan)),"left"==t)s=this.startDate.clone(),i=this.minDate;else if("right"==t){s=this.endDate.clone(),i=this.startDate;var a=this.container.find(".drp-calendar.right .calendar-time");if(""!=a.html()&&(s.hour(isNaN(s.hour())?a.find(".hourselect option:selected").val():s.hour()),s.minute(isNaN(s.minute())?a.find(".minuteselect option:selected").val():s.minute()),s.second(isNaN(s.second())?a.find(".secondselect option:selected").val():s.second()),!this.timePicker24Hour)){var r=a.find(".ampmselect option:selected").val();"PM"===r&&12>s.hour()&&s.hour(s.hour()+12),"AM"===r&&12===s.hour()&&s.hour(0)}s.isBefore(this.startDate)&&(s=this.startDate.clone()),n&&s.isAfter(n)&&(s=n.clone())}e='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,h=o;h<=l;h++){var d=h;this.timePicker24Hour||(d=s.hour()>=12?12==h?12:h+12:12==h?0:h);var c=s.clone().hour(d),u=!1;i&&c.minute(59).isBefore(i)&&(u=!0),n&&c.minute(0).isAfter(n)&&(u=!0),d!=s.hour()||u?e+=u?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":e+='<option value="'+h+'" selected="selected">'+h+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',h=0;h<60;h+=this.timePickerIncrement){var p=h<10?"0"+h:h;c=s.clone().minute(h),u=!1,i&&c.second(59).isBefore(i)&&(u=!0),n&&c.second(0).isAfter(n)&&(u=!0),s.minute()!=h||u?e+=u?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":e+='<option value="'+h+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',h=0;h<60;h++)p=h<10?"0"+h:h,c=s.clone().second(h),u=!1,i&&c.isBefore(i)&&(u=!0),n&&c.isAfter(n)&&(u=!0),s.second()!=h||u?e+=u?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":e+='<option value="'+h+'" selected="selected">'+p+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",g="";i&&s.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),n&&s.clone().hour(0).minute(0).second(0).isAfter(n)&&(g=' disabled="disabled" class="disabled"'),s.hour()>=12?e+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,s,i={top:0,left:0},n=this.drops,a=e(window).width();switch(this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},a=this.parentEl[0].clientWidth+this.parentEl.offset().left),n){case"auto":(s=this.element.offset().top+this.element.outerHeight()-i.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(s=this.element.offset().top-this.container.outerHeight()-i.top,n="up");break;case"up":s=this.element.offset().top-this.container.outerHeight()-i.top;break;default:s=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});var r=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==n),"left"==this.opens){var o=a-this.element.offset().left-this.element.outerWidth();r+o>e(window).width()?this.container.css({top:s,right:"auto",left:9}):this.container.css({top:s,right:o,left:"auto"})}else"center"==this.opens?(t=this.element.offset().left-i.left+this.element.outerWidth()/2-r/2)<0?this.container.css({top:s,right:"auto",left:9}):t+r>e(window).width()?this.container.css({top:s,left:"auto",right:0}):this.container.css({top:s,left:t,right:"auto"}):(t=this.element.offset().left-i.left)+r>e(window).width()?this.container.css({top:s,left:"auto",right:0}):this.container.css({top:s,left:t,right:"auto"})},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy((function(t){this.outsideClick(t)}),this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy((function(t){this.move(t)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var s=e(t.target);"focusin"==t.type||s.closest(this.element).length||s.closest(this.container).length||s.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var s=this.ranges[e];this.startDate=s[0],this.endDate=s[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var s=e(t.target).attr("data-title"),i=s.substr(1,1),n=s.substr(3,1),a=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][n]:this.rightCalendar.calendar[i][n],r=this.leftCalendar,o=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each((function(t,s){if(!e(s).hasClass("week")){var i=e(s).attr("data-title"),n=i.substr(1,1),h=i.substr(3,1),d=e(s).parents(".drp-calendar").hasClass("left")?r.calendar[n][h]:o.calendar[n][h];d.isAfter(l)&&d.isBefore(a)||d.isSame(a,"day")?e(s).addClass("in-range"):e(s).removeClass("in-range")}}))}},clickDate:function(t){if(e(t.target).hasClass("available")){var s,i=e(t.target).attr("data-title"),n=i.substr(1,1),a=i.substr(3,1),r=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[n][a]:this.rightCalendar.calendar[n][a];if(this.endDate||r.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(s=this.container.find(".left .ampmselect").val())&&o<12&&(o+=12),"AM"!==s||12!==o||(o=0));var l=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(l)&&(l=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var h=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;r=r.clone().hour(o).minute(l).second(h)}this.endDate=null,this.setStartDate(r.clone())}else!this.endDate&&r.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(o=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(s=this.container.find(".right .ampmselect").val())&&o<12&&(o+=12),"AM"!==s||12!==o||(o=0)),isNaN(l=parseInt(this.container.find(".right .minuteselect").val(),10))&&(l=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),h=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(o).minute(l).second(h)),this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var s in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[s][0].format(i)&&this.endDate.format(i)==this.ranges[s][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[s][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[s][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var s=e(t.target).closest(".drp-calendar").hasClass("left"),i=this.container.find(".drp-calendar."+(s?"left":"right")),n=parseInt(i.find(".monthselect").val(),10),a=i.find(".yearselect").val();s||(a<this.startDate.year()||a==this.startDate.year()&&n<this.startDate.month())&&(n=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&n<this.minDate.month())&&(n=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&n>this.maxDate.month())&&(n=this.maxDate.month(),a=this.maxDate.year()),s?(this.leftCalendar.month.month(n).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(n).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var s=e(t.target).closest(".drp-calendar"),i=s.hasClass("left"),n=parseInt(s.find(".hourselect").val(),10),a=parseInt(s.find(".minuteselect").val(),10);isNaN(a)&&(a=parseInt(s.find(".minuteselect option:last").val(),10));var r=this.timePickerSeconds?parseInt(s.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=s.find(".ampmselect").val();"PM"===o&&n<12&&(n+=12),"AM"===o&&12===n&&(n=0)}if(i){var l=this.startDate.clone();l.hour(n),l.minute(a),l.second(r),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(n),h.minute(a),h.second(r),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),s=null,i=null;2===e.length&&(s=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===s||null===i)&&(i=s=t(this.element.val(),this.locale.format)),s.isValid()&&i.isValid()&&(this.setStartDate(s),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){var n=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each((function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new s(t,n,i))})),this},s}));var start=moment().subtract(29,"days"),end=moment();const cb=(t,e)=>{$("#reportrange").html(t.format()+" - "+e.format())};$("#reportrange").daterangepicker({startDate:start,endDate:end,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 15 Days":[moment().subtract(14,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},cb),cb(start,end);